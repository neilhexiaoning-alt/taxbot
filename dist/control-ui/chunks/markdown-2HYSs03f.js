(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const at=globalThis,fn=at.ShadowRoot&&(at.ShadyCSS===void 0||at.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,dn=Symbol(),ns=new WeakMap;let Gs=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==dn)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(fn&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=ns.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&ns.set(n,e))}return e}toString(){return this.cssText}};const Wr=t=>new Gs(typeof t=="string"?t:t+"",void 0,dn),pa=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,s,i)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(s)+t[i+1],t[0]);return new Gs(n,t,dn)},qr=(t,e)=>{if(fn)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),s=at.litNonce;s!==void 0&&r.setAttribute("nonce",s),r.textContent=n.cssText,t.appendChild(r)}},ss=fn?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return Wr(n)})(t):t;const{is:Zr,defineProperty:jr,getOwnPropertyDescriptor:Yr,getOwnPropertyNames:Kr,getOwnPropertySymbols:Xr,getPrototypeOf:Vr}=Object,bt=globalThis,rs=bt.trustedTypes,Qr=rs?rs.emptyScript:"",Jr=bt.reactiveElementPolyfillSupport,We=(t,e)=>t,Vt={toAttribute(t,e){switch(e){case Boolean:t=t?Qr:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},Ws=(t,e)=>!Zr(t,e),is={attribute:!0,type:String,converter:Vt,reflect:!1,useDefault:!1,hasChanged:Ws};Symbol.metadata??=Symbol("metadata"),bt.litPropertyMetadata??=new WeakMap;let Re=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=is){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),s=this.getPropertyDescriptor(e,r,n);s!==void 0&&jr(this.prototype,e,s)}}static getPropertyDescriptor(e,n,r){const{get:s,set:i}=Yr(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:s,set(o){const c=s?.call(this);i?.call(this,o),this.requestUpdate(e,c,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??is}static _$Ei(){if(this.hasOwnProperty(We("elementProperties")))return;const e=Vr(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(We("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(We("properties"))){const n=this.properties,r=[...Kr(n),...Xr(n)];for(const s of r)this.createProperty(s,n[s])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,s]of n)this.elementProperties.set(r,s)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const s=this._$Eu(n,r);s!==void 0&&this._$Eh.set(s,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const s of r)n.unshift(ss(s))}else e!==void 0&&n.push(ss(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return qr(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){const r=this.constructor.elementProperties.get(e),s=this.constructor._$Eu(e,r);if(s!==void 0&&r.reflect===!0){const i=(r.converter?.toAttribute!==void 0?r.converter:Vt).toAttribute(n,r.type);this._$Em=e,i==null?this.removeAttribute(s):this.setAttribute(s,i),this._$Em=null}}_$AK(e,n){const r=this.constructor,s=r._$Eh.get(e);if(s!==void 0&&this._$Em!==s){const i=r.getPropertyOptions(s),o=typeof i.converter=="function"?{fromAttribute:i.converter}:i.converter?.fromAttribute!==void 0?i.converter:Vt;this._$Em=s;const c=o.fromAttribute(n,i.type);this[s]=c??this._$Ej?.get(s)??c,this._$Em=null}}requestUpdate(e,n,r,s=!1,i){if(e!==void 0){const o=this.constructor;if(s===!1&&(i=this[e]),r??=o.getPropertyOptions(e),!((r.hasChanged??Ws)(i,n)||r.useDefault&&r.reflect&&i===this._$Ej?.get(e)&&!this.hasAttribute(o._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:s,wrapped:i},o){r&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??n??this[e]),i!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),s===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[s,i]of this._$Ep)this[s]=i;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[s,i]of r){const{wrapped:o}=i,c=this[s];o!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,i,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(n)):this._$EM()}catch(r){throw e=!1,this._$EM(),r}e&&this._$AE(n)}willUpdate(e){}_$AE(e){this._$EO?.forEach(n=>n.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(n=>this._$ET(n,this[n])),this._$EM()}updated(e){}firstUpdated(e){}};Re.elementStyles=[],Re.shadowRootOptions={mode:"open"},Re[We("elementProperties")]=new Map,Re[We("finalized")]=new Map,Jr?.({ReactiveElement:Re}),(bt.reactiveElementVersions??=[]).push("2.1.2");const gn=globalThis,os=t=>t,ht=gn.trustedTypes,as=ht?ht.createPolicy("lit-html",{createHTML:t=>t}):void 0,qs="$lit$",oe=`lit$${Math.random().toFixed(9).slice(2)}$`,Zs="?"+oe,ei=`<${Zs}>`,ge=document,Ze=()=>ge.createComment(""),je=t=>t===null||typeof t!="object"&&typeof t!="function",mn=Array.isArray,ti=t=>mn(t)||typeof t?.[Symbol.iterator]=="function",Ut=`[ 	
\f\r]`,Me=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ls=/-->/g,cs=/>/g,he=RegExp(`>|${Ut}(?:([^\\s"'>=/]+)(${Ut}*=${Ut}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),us=/'/g,hs=/"/g,js=/^(?:script|style|textarea|title)$/i,ni=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),da=ni(1),me=Symbol.for("lit-noChange"),R=Symbol.for("lit-nothing"),ps=new WeakMap,fe=ge.createTreeWalker(ge,129);function Ys(t,e){if(!mn(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return as!==void 0?as.createHTML(e):e}const si=(t,e)=>{const n=t.length-1,r=[];let s,i=e===2?"<svg>":e===3?"<math>":"",o=Me;for(let c=0;c<n;c++){const a=t[c];let h,u,f=-1,d=0;for(;d<a.length&&(o.lastIndex=d,u=o.exec(a),u!==null);)d=o.lastIndex,o===Me?u[1]==="!--"?o=ls:u[1]!==void 0?o=cs:u[2]!==void 0?(js.test(u[2])&&(s=RegExp("</"+u[2],"g")),o=he):u[3]!==void 0&&(o=he):o===he?u[0]===">"?(o=s??Me,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,h=u[1],o=u[3]===void 0?he:u[3]==='"'?hs:us):o===hs||o===us?o=he:o===ls||o===cs?o=Me:(o=he,s=void 0);const k=o===he&&t[c+1].startsWith("/>")?" ":"";i+=o===Me?a+ei:f>=0?(r.push(h),a.slice(0,f)+qs+a.slice(f)+oe+k):a+oe+(f===-2?c:k)}return[Ys(t,i+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};let Qt=class Ks{constructor({strings:e,_$litType$:n},r){let s;this.parts=[];let i=0,o=0;const c=e.length-1,a=this.parts,[h,u]=si(e,n);if(this.el=Ks.createElement(h,r),fe.currentNode=this.el.content,n===2||n===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(s=fe.nextNode())!==null&&a.length<c;){if(s.nodeType===1){if(s.hasAttributes())for(const f of s.getAttributeNames())if(f.endsWith(qs)){const d=u[o++],k=s.getAttribute(f).split(oe),y=/([.?@])?(.*)/.exec(d);a.push({type:1,index:i,name:y[2],strings:k,ctor:y[1]==="."?ii:y[1]==="?"?oi:y[1]==="@"?ai:yt}),s.removeAttribute(f)}else f.startsWith(oe)&&(a.push({type:6,index:i}),s.removeAttribute(f));if(js.test(s.tagName)){const f=s.textContent.split(oe),d=f.length-1;if(d>0){s.textContent=ht?ht.emptyScript:"";for(let k=0;k<d;k++)s.append(f[k],Ze()),fe.nextNode(),a.push({type:2,index:++i});s.append(f[d],Ze())}}}else if(s.nodeType===8)if(s.data===Zs)a.push({type:2,index:i});else{let f=-1;for(;(f=s.data.indexOf(oe,f+1))!==-1;)a.push({type:7,index:i}),f+=oe.length-1}i++}}static createElement(e,n){const r=ge.createElement("template");return r.innerHTML=e,r}};function Ce(t,e,n=t,r){if(e===me)return e;let s=r!==void 0?n._$Co?.[r]:n._$Cl;const i=je(e)?void 0:e._$litDirective$;return s?.constructor!==i&&(s?._$AO?.(!1),i===void 0?s=void 0:(s=new i(t),s._$AT(t,n,r)),r!==void 0?(n._$Co??=[])[r]=s:n._$Cl=s),s!==void 0&&(e=Ce(t,s._$AS(t,e.values),s,r)),e}class ri{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,s=(e?.creationScope??ge).importNode(n,!0);fe.currentNode=s;let i=fe.nextNode(),o=0,c=0,a=r[0];for(;a!==void 0;){if(o===a.index){let h;a.type===2?h=new kt(i,i.nextSibling,this,e):a.type===1?h=new a.ctor(i,a.name,a.strings,this,e):a.type===6&&(h=new li(i,this,e)),this._$AV.push(h),a=r[++c]}o!==a?.index&&(i=fe.nextNode(),o++)}return fe.currentNode=ge,s}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}let kt=class Xs{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,n,r,s){this.type=2,this._$AH=R,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&e?.nodeType===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Ce(this,e,n),je(e)?e===R||e==null||e===""?(this._$AH!==R&&this._$AR(),this._$AH=R):e!==this._$AH&&e!==me&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):ti(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==R&&je(this._$AH)?this._$AA.nextSibling.data=e:this.T(ge.createTextNode(e)),this._$AH=e}$(e){const{values:n,_$litType$:r}=e,s=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=Qt.createElement(Ys(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===s)this._$AH.p(n);else{const i=new ri(s,this),o=i.u(this.options);i.p(n),this.T(o),this._$AH=i}}_$AC(e){let n=ps.get(e.strings);return n===void 0&&ps.set(e.strings,n=new Qt(e)),n}k(e){mn(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,s=0;for(const i of e)s===n.length?n.push(r=new Xs(this.O(Ze()),this.O(Ze()),this,this.options)):r=n[s],r._$AI(i),s++;s<n.length&&(this._$AR(r&&r._$AB.nextSibling,s),n.length=s)}_$AR(e=this._$AA.nextSibling,n){for(this._$AP?.(!1,!0,n);e!==this._$AB;){const r=os(e).nextSibling;os(e).remove(),e=r}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}};class yt{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,s,i){this.type=1,this._$AH=R,this._$AN=void 0,this.element=e,this.name=n,this._$AM=s,this.options=i,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=R}_$AI(e,n=this,r,s){const i=this.strings;let o=!1;if(i===void 0)e=Ce(this,e,n,0),o=!je(e)||e!==this._$AH&&e!==me,o&&(this._$AH=e);else{const c=e;let a,h;for(e=i[0],a=0;a<i.length-1;a++)h=Ce(this,c[r+a],n,a),h===me&&(h=this._$AH[a]),o||=!je(h)||h!==this._$AH[a],h===R?e=R:e!==R&&(e+=(h??"")+i[a+1]),this._$AH[a]=h}o&&!s&&this.j(e)}j(e){e===R?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}let ii=class extends yt{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===R?void 0:e}},oi=class extends yt{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==R)}},ai=class extends yt{constructor(e,n,r,s,i){super(e,n,r,s,i),this.type=5}_$AI(e,n=this){if((e=Ce(this,e,n,0)??R)===me)return;const r=this._$AH,s=e===R&&r!==R||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,i=e!==R&&(r===R||s);s&&this.element.removeEventListener(this.name,this,r),i&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}},li=class{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Ce(this,e)}};const ya={I:kt},ci=gn.litHtmlPolyfillSupport;ci?.(Qt,kt),(gn.litHtmlVersions??=[]).push("3.3.2");const ui=(t,e,n)=>{const r=n?.renderBefore??e;let s=r._$litPart$;if(s===void 0){const i=n?.renderBefore??null;r._$litPart$=s=new kt(e.insertBefore(Ze(),i),i,void 0,n??{})}return s._$AI(t),s};const bn=globalThis;let lt=class extends Re{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=ui(n,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return me}};lt._$litElement$=!0,lt.finalized=!0,bn.litElementHydrateSupport?.({LitElement:lt});const hi=bn.litElementPolyfillSupport;hi?.({LitElement:lt});(bn.litElementVersions??=[]).push("4.2.2");const pi=/<\s*\/?\s*(?:think(?:ing)?|thought|antthinking|final)\b/i,st=/<\s*\/?\s*final\b[^<>]*>/gi,fs=/<\s*(\/?)\s*(?:think(?:ing)?|thought|antthinking)\b[^<>]*>/gi;function ds(t){const e=[],n=/(^|\n)(```|~~~)[^\n]*\n[\s\S]*?(?:\n\2(?:\n|$)|$)/g;for(const s of t.matchAll(n)){const i=(s.index??0)+s[1].length;e.push({start:i,end:i+s[0].length-s[1].length})}const r=/`+[^`]+`+/g;for(const s of t.matchAll(r)){const i=s.index??0,o=i+s[0].length;e.some(a=>i>=a.start&&o<=a.end)||e.push({start:i,end:o})}return e.sort((s,i)=>s.start-i.start),e}function gs(t,e){return e.some(n=>t>=n.start&&t<n.end)}function fi(t,e){return t.trimStart()}function di(t,e){if(!t||!pi.test(t))return t;let n=t;if(st.test(n)){st.lastIndex=0;const c=[],a=ds(n);for(const h of n.matchAll(st)){const u=h.index??0;c.push({start:u,length:h[0].length,inCode:gs(u,a)})}for(let h=c.length-1;h>=0;h--){const u=c[h];u.inCode||(n=n.slice(0,u.start)+n.slice(u.start+u.length))}}else st.lastIndex=0;const r=ds(n);fs.lastIndex=0;let s="",i=0,o=!1;for(const c of n.matchAll(fs)){const a=c.index??0,h=c[1]==="/";gs(a,r)||(o?h&&(o=!1):(s+=n.slice(i,a),h||(o=!0)),i=a+c[0].length)}return s+=n.slice(i),fi(s)}function _a(t){return!t&&t!==0?"n/a":new Date(t).toLocaleString()}function wa(t){if(!t&&t!==0)return"n/a";const e=Date.now()-t;if(e<0)return"just now";const n=Math.round(e/1e3);if(n<60)return`${n}s ago`;const r=Math.round(n/60);if(r<60)return`${r}m ago`;const s=Math.round(r/60);return s<48?`${s}h ago`:`${Math.round(s/24)}d ago`}function xa(t){if(!t&&t!==0)return"n/a";if(t<1e3)return`${t}ms`;const e=Math.round(t/1e3);if(e<60)return`${e}s`;const n=Math.round(e/60);if(n<60)return`${n}m`;const r=Math.round(n/60);return r<48?`${r}h`:`${Math.round(r/24)}d`}function Ta(t){return!t||t.length===0?"none":t.filter(e=>!!(e&&e.trim())).join(", ")}function Ea(t,e=120){return t.length<=e?t:`${t.slice(0,Math.max(0,e-1))}â€¦`}function gi(t,e){return t.length<=e?{text:t,truncated:!1,total:t.length}:{text:t.slice(0,Math.max(0,e)),truncated:!0,total:t.length}}function Sa(t,e){const n=Number(t);return Number.isFinite(n)?n:e}function $a(t){return di(t)}const Vs="openclaw.device.auth.v1";function kn(t){return t.trim()}function mi(t){if(!Array.isArray(t))return[];const e=new Set;for(const n of t){const r=n.trim();r&&e.add(r)}return[...e].toSorted()}function yn(){try{const t=window.localStorage.getItem(Vs);if(!t)return null;const e=JSON.parse(t);return!e||e.version!==1||!e.deviceId||typeof e.deviceId!="string"||!e.tokens||typeof e.tokens!="object"?null:e}catch{return null}}function Qs(t){try{window.localStorage.setItem(Vs,JSON.stringify(t))}catch{}}function bi(t){const e=yn();if(!e||e.deviceId!==t.deviceId)return null;const n=kn(t.role),r=e.tokens[n];return!r||typeof r.token!="string"?null:r}function ki(t){const e=kn(t.role),n={version:1,deviceId:t.deviceId,tokens:{}},r=yn();r&&r.deviceId===t.deviceId&&(n.tokens={...r.tokens});const s={token:t.token,role:e,scopes:mi(t.scopes),updatedAtMs:Date.now()};return n.tokens[e]=s,Qs(n),s}function yi(t){const e=yn();if(!e||e.deviceId!==t.deviceId)return;const n=kn(t.role);if(!e.tokens[n])return;const r={...e,tokens:{...e.tokens}};delete r.tokens[n],Qs(r)}const Js={p:0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffedn,n:0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3edn,h:8n,a:0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffecn,d:0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3n,Gx:0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51an,Gy:0x6666666666666666666666666666666666666666666666666666666666666658n},{p:M,n:ct,Gx:ms,Gy:bs,a:Ht,d:Bt,h:Ai}=Js,be=32,An=64,_i=(...t)=>{"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...t)},I=(t="")=>{const e=new Error(t);throw _i(e,I),e},wi=t=>typeof t=="bigint",xi=t=>typeof t=="string",Ti=t=>t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array",ae=(t,e,n="")=>{const r=Ti(t),s=t?.length,i=e!==void 0;if(!r||i&&s!==e){const o=n&&`"${n}" `,c=i?` of length ${e}`:"",a=r?`length=${s}`:`type=${typeof t}`;I(o+"expected Uint8Array"+c+", got "+a)}return t},At=t=>new Uint8Array(t),er=t=>Uint8Array.from(t),tr=(t,e)=>t.toString(16).padStart(e,"0"),nr=t=>Array.from(ae(t)).map(e=>tr(e,2)).join(""),re={_0:48,_9:57,A:65,F:70,a:97,f:102},ks=t=>{if(t>=re._0&&t<=re._9)return t-re._0;if(t>=re.A&&t<=re.F)return t-(re.A-10);if(t>=re.a&&t<=re.f)return t-(re.a-10)},sr=t=>{const e="hex invalid";if(!xi(t))return I(e);const n=t.length,r=n/2;if(n%2)return I(e);const s=At(r);for(let i=0,o=0;i<r;i++,o+=2){const c=ks(t.charCodeAt(o)),a=ks(t.charCodeAt(o+1));if(c===void 0||a===void 0)return I(e);s[i]=c*16+a}return s},rr=()=>globalThis?.crypto,Ei=()=>rr()?.subtle??I("crypto.subtle must be defined, consider polyfill"),Ye=(...t)=>{const e=At(t.reduce((r,s)=>r+ae(s).length,0));let n=0;return t.forEach(r=>{e.set(r,n),n+=r.length}),e},Si=(t=be)=>rr().getRandomValues(At(t)),pt=BigInt,pe=(t,e,n,r="bad number: out of range")=>wi(t)&&e<=t&&t<n?t:I(r),g=(t,e=M)=>{const n=t%e;return n>=0n?n:e+n},ir=t=>g(t,ct),$i=(t,e)=>{(t===0n||e<=0n)&&I("no inverse n="+t+" mod="+e);let n=g(t,e),r=e,s=0n,i=1n;for(;n!==0n;){const o=r/n,c=r%n,a=s-i*o;r=n,n=c,s=i,i=a}return r===1n?g(s,e):I("no inverse")},Ri=t=>{const e=cr[t];return typeof e!="function"&&I("hashes."+t+" not set"),e},Ft=t=>t instanceof G?t:I("Point expected"),Jt=2n**256n;class G{static BASE;static ZERO;X;Y;Z;T;constructor(e,n,r,s){const i=Jt;this.X=pe(e,0n,i),this.Y=pe(n,0n,i),this.Z=pe(r,1n,i),this.T=pe(s,0n,i),Object.freeze(this)}static CURVE(){return Js}static fromAffine(e){return new G(e.x,e.y,1n,g(e.x*e.y))}static fromBytes(e,n=!1){const r=Bt,s=er(ae(e,be)),i=e[31];s[31]=i&-129;const o=ar(s);pe(o,0n,n?Jt:M);const a=g(o*o),h=g(a-1n),u=g(r*a+1n);let{isValid:f,value:d}=Ci(h,u);f||I("bad point: y not sqrt");const k=(d&1n)===1n,y=(i&128)!==0;return!n&&d===0n&&y&&I("bad point: x==0, isLastByteOdd"),y!==k&&(d=g(-d)),new G(d,o,1n,g(d*o))}static fromHex(e,n){return G.fromBytes(sr(e),n)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}assertValidity(){const e=Ht,n=Bt,r=this;if(r.is0())return I("bad point: ZERO");const{X:s,Y:i,Z:o,T:c}=r,a=g(s*s),h=g(i*i),u=g(o*o),f=g(u*u),d=g(a*e),k=g(u*g(d+h)),y=g(f+g(n*g(a*h)));if(k!==y)return I("bad point: equation left != right (1)");const S=g(s*i),q=g(o*c);return S!==q?I("bad point: equation left != right (2)"):this}equals(e){const{X:n,Y:r,Z:s}=this,{X:i,Y:o,Z:c}=Ft(e),a=g(n*c),h=g(i*s),u=g(r*c),f=g(o*s);return a===h&&u===f}is0(){return this.equals(ve)}negate(){return new G(g(-this.X),this.Y,this.Z,g(-this.T))}double(){const{X:e,Y:n,Z:r}=this,s=Ht,i=g(e*e),o=g(n*n),c=g(2n*g(r*r)),a=g(s*i),h=e+n,u=g(g(h*h)-i-o),f=a+o,d=f-c,k=a-o,y=g(u*d),S=g(f*k),q=g(u*k),J=g(d*f);return new G(y,S,J,q)}add(e){const{X:n,Y:r,Z:s,T:i}=this,{X:o,Y:c,Z:a,T:h}=Ft(e),u=Ht,f=Bt,d=g(n*o),k=g(r*c),y=g(i*f*h),S=g(s*a),q=g((n+r)*(o+c)-d-k),J=g(S-y),le=g(S+y),ee=g(k-u*d),T=g(q*J),F=g(le*ee),Ie=g(q*ee),xt=g(J*le);return new G(T,F,xt,Ie)}subtract(e){return this.add(Ft(e).negate())}multiply(e,n=!0){if(!n&&(e===0n||this.is0()))return ve;if(pe(e,1n,ct),e===1n)return this;if(this.equals(ke))return Bi(e).p;let r=ve,s=ke;for(let i=this;e>0n;i=i.double(),e>>=1n)e&1n?r=r.add(i):n&&(s=s.add(i));return r}multiplyUnsafe(e){return this.multiply(e,!1)}toAffine(){const{X:e,Y:n,Z:r}=this;if(this.equals(ve))return{x:0n,y:1n};const s=$i(r,M);g(r*s)!==1n&&I("invalid inverse");const i=g(e*s),o=g(n*s);return{x:i,y:o}}toBytes(){const{x:e,y:n}=this.assertValidity().toAffine(),r=or(n);return r[31]|=e&1n?128:0,r}toHex(){return nr(this.toBytes())}clearCofactor(){return this.multiply(pt(Ai),!1)}isSmallOrder(){return this.clearCofactor().is0()}isTorsionFree(){let e=this.multiply(ct/2n,!1).double();return ct%2n&&(e=e.add(this)),e.is0()}}const ke=new G(ms,bs,1n,g(ms*bs)),ve=new G(0n,1n,1n,0n);G.BASE=ke;G.ZERO=ve;const or=t=>sr(tr(pe(t,0n,Jt),An)).reverse(),ar=t=>pt("0x"+nr(er(ae(t)).reverse())),V=(t,e)=>{let n=t;for(;e-- >0n;)n*=n,n%=M;return n},vi=t=>{const n=t*t%M*t%M,r=V(n,2n)*n%M,s=V(r,1n)*t%M,i=V(s,5n)*s%M,o=V(i,10n)*i%M,c=V(o,20n)*o%M,a=V(c,40n)*c%M,h=V(a,80n)*a%M,u=V(h,80n)*a%M,f=V(u,10n)*i%M;return{pow_p_5_8:V(f,2n)*t%M,b2:n}},ys=0x2b8324804fc1df0b2b4d00993dfbd7a72f431806ad2fe478c4ee1b274a0ea0b0n,Ci=(t,e)=>{const n=g(e*e*e),r=g(n*n*e),s=vi(t*r).pow_p_5_8;let i=g(t*n*s);const o=g(e*i*i),c=i,a=g(i*ys),h=o===t,u=o===g(-t),f=o===g(-t*ys);return h&&(i=c),(u||f)&&(i=a),(g(i)&1n)===1n&&(i=g(-i)),{isValid:h||u,value:i}},en=t=>ir(ar(t)),_n=(...t)=>cr.sha512Async(Ye(...t)),Ii=(...t)=>Ri("sha512")(Ye(...t)),lr=t=>{const e=t.slice(0,be);e[0]&=248,e[31]&=127,e[31]|=64;const n=t.slice(be,An),r=en(e),s=ke.multiply(r),i=s.toBytes();return{head:e,prefix:n,scalar:r,point:s,pointBytes:i}},wn=t=>_n(ae(t,be)).then(lr),Oi=t=>lr(Ii(ae(t,be))),Li=t=>wn(t).then(e=>e.pointBytes),Ni=t=>_n(t.hashable).then(t.finish),Mi=(t,e,n)=>{const{pointBytes:r,scalar:s}=t,i=en(e),o=ke.multiply(i).toBytes();return{hashable:Ye(o,r,n),finish:h=>{const u=ir(i+en(h)*s);return ae(Ye(o,or(u)),An)}}},Di=async(t,e)=>{const n=ae(t),r=await wn(e),s=await _n(r.prefix,n);return Ni(Mi(r,s,n))},cr={sha512Async:async t=>{const e=Ei(),n=Ye(t);return At(await e.digest("SHA-512",n.buffer))},sha512:void 0},Pi=(t=Si(be))=>t,zi={getExtendedPublicKeyAsync:wn,getExtendedPublicKey:Oi,randomSecretKey:Pi},ft=8,Ui=256,ur=Math.ceil(Ui/ft)+1,tn=2**(ft-1),Hi=()=>{const t=[];let e=ke,n=e;for(let r=0;r<ur;r++){n=e,t.push(n);for(let s=1;s<tn;s++)n=n.add(e),t.push(n);e=n.double()}return t};let As;const _s=(t,e)=>{const n=e.negate();return t?n:e},Bi=t=>{const e=As||(As=Hi());let n=ve,r=ke;const s=2**ft,i=s,o=pt(s-1),c=pt(ft);for(let a=0;a<ur;a++){let h=Number(t&o);t>>=c,h>tn&&(h-=i,t+=1n);const u=a*tn,f=u,d=u+Math.abs(h)-1,k=a%2!==0,y=h<0;h===0?r=r.add(_s(k,e[f])):n=n.add(_s(y,e[d]))}return t!==0n&&I("invalid wnaf"),{p:n,f:r}},Gt="openclaw-device-identity-v1";function nn(t){let e="";for(const n of t)e+=String.fromCharCode(n);return btoa(e).replaceAll("+","-").replaceAll("/","_").replace(/=+$/g,"")}function hr(t){const e=t.replaceAll("-","+").replaceAll("_","/"),n=e+"=".repeat((4-e.length%4)%4),r=atob(n),s=new Uint8Array(r.length);for(let i=0;i<r.length;i+=1)s[i]=r.charCodeAt(i);return s}function Fi(t){return Array.from(t).map(e=>e.toString(16).padStart(2,"0")).join("")}async function pr(t){const e=await crypto.subtle.digest("SHA-256",t);return Fi(new Uint8Array(e))}async function Gi(){const t=zi.randomSecretKey(),e=await Li(t);return{deviceId:await pr(e),publicKey:nn(e),privateKey:nn(t)}}async function Wi(){try{const n=localStorage.getItem(Gt);if(n){const r=JSON.parse(n);if(r?.version===1&&typeof r.deviceId=="string"&&typeof r.publicKey=="string"&&typeof r.privateKey=="string"){const s=await pr(hr(r.publicKey));if(s!==r.deviceId){const i={...r,deviceId:s};return localStorage.setItem(Gt,JSON.stringify(i)),{deviceId:s,publicKey:r.publicKey,privateKey:r.privateKey}}return{deviceId:r.deviceId,publicKey:r.publicKey,privateKey:r.privateKey}}}}catch{}const t=await Gi(),e={version:1,deviceId:t.deviceId,publicKey:t.publicKey,privateKey:t.privateKey,createdAtMs:Date.now()};return localStorage.setItem(Gt,JSON.stringify(e)),t}async function qi(t,e){const n=hr(t),r=new TextEncoder().encode(e),s=await Di(r,n);return nn(s)}let ws=!1;function xs(t){t[6]=t[6]&15|64,t[8]=t[8]&63|128;let e="";for(let n=0;n<t.length;n++)e+=t[n].toString(16).padStart(2,"0");return`${e.slice(0,8)}-${e.slice(8,12)}-${e.slice(12,16)}-${e.slice(16,20)}-${e.slice(20)}`}function Zi(){const t=new Uint8Array(16),e=Date.now();for(let n=0;n<t.length;n++)t[n]=Math.floor(Math.random()*256);return t[0]^=e&255,t[1]^=e>>>8&255,t[2]^=e>>>16&255,t[3]^=e>>>24&255,t}function ji(){ws||(ws=!0,console.warn("[uuid] crypto API missing; falling back to weak randomness"))}function Yi(t=globalThis.crypto){if(t&&typeof t.randomUUID=="function")return t.randomUUID();if(t&&typeof t.getRandomValues=="function"){const e=new Uint8Array(16);return t.getRandomValues(e),xs(e)}return ji(),xs(Zi())}function Ki(t){const e=t.version??(t.nonce?"v2":"v1"),n=t.scopes.join(","),r=t.token??"",s=[e,t.deviceId,t.clientId,t.clientMode,t.role,n,String(t.signedAtMs),r];return e==="v2"&&s.push(t.nonce??""),s.join("|")}const fr={WEBCHAT_UI:"webchat-ui",CONTROL_UI:"openclaw-control-ui",WEBCHAT:"webchat",CLI:"cli",GATEWAY_CLIENT:"gateway-client",MACOS_APP:"openclaw-macos",IOS_APP:"openclaw-ios",ANDROID_APP:"openclaw-android",NODE_HOST:"node-host",TEST:"test",FINGERPRINT:"fingerprint",PROBE:"openclaw-probe"},Ts=fr,sn={WEBCHAT:"webchat",CLI:"cli",UI:"ui",BACKEND:"backend",NODE:"node",PROBE:"probe",TEST:"test"};new Set(Object.values(fr));new Set(Object.values(sn));const Xi=4008;class Ra{constructor(e){this.opts=e,this.ws=null,this.pending=new Map,this.closed=!1,this.lastSeq=null,this.connectNonce=null,this.connectSent=!1,this.connectTimer=null,this.backoffMs=800}start(){this.closed=!1,this.connect()}stop(){this.closed=!0,this.ws?.close(),this.ws=null,this.flushPending(new Error("gateway client stopped"))}get connected(){return this.ws?.readyState===WebSocket.OPEN}connect(){this.closed||(this.ws=new WebSocket(this.opts.url),this.ws.addEventListener("open",()=>this.queueConnect()),this.ws.addEventListener("message",e=>this.handleMessage(String(e.data??""))),this.ws.addEventListener("close",e=>{const n=String(e.reason??"");this.ws=null,this.flushPending(new Error(`gateway closed (${e.code}): ${n}`)),this.opts.onClose?.({code:e.code,reason:n}),this.scheduleReconnect()}),this.ws.addEventListener("error",()=>{}))}scheduleReconnect(){if(this.closed)return;const e=this.backoffMs;this.backoffMs=Math.min(this.backoffMs*1.7,15e3),window.setTimeout(()=>this.connect(),e)}flushPending(e){for(const[,n]of this.pending)n.reject(e);this.pending.clear()}async sendConnect(){if(this.connectSent)return;this.connectSent=!0,this.connectTimer!==null&&(window.clearTimeout(this.connectTimer),this.connectTimer=null);const e=typeof crypto<"u"&&!!crypto.subtle,n=["operator.admin","operator.approvals","operator.pairing"],r="operator";let s=null,i=!1,o=this.opts.token;if(e){s=await Wi();const u=bi({deviceId:s.deviceId,role:r})?.token;o=u??this.opts.token,i=!!(u&&this.opts.token)}const c=o||this.opts.password?{token:o,password:this.opts.password}:void 0;let a;if(e&&s){const u=Date.now(),f=this.connectNonce??void 0,d=Ki({deviceId:s.deviceId,clientId:this.opts.clientName??Ts.CONTROL_UI,clientMode:this.opts.mode??sn.WEBCHAT,role:r,scopes:n,signedAtMs:u,token:o??null,nonce:f}),k=await qi(s.privateKey,d);a={id:s.deviceId,publicKey:s.publicKey,signature:k,signedAt:u,nonce:f}}const h={minProtocol:3,maxProtocol:3,client:{id:this.opts.clientName??Ts.CONTROL_UI,version:this.opts.clientVersion??"dev",platform:this.opts.platform??navigator.platform??"web",mode:this.opts.mode??sn.WEBCHAT,instanceId:this.opts.instanceId},role:r,scopes:n,device:a,caps:[],auth:c,userAgent:navigator.userAgent,locale:navigator.language};this.request("connect",h).then(u=>{u?.auth?.deviceToken&&s&&ki({deviceId:s.deviceId,role:u.auth.role??r,token:u.auth.deviceToken,scopes:u.auth.scopes??[]}),this.backoffMs=800,this.opts.onHello?.(u)}).catch(()=>{i&&s&&yi({deviceId:s.deviceId,role:r}),this.ws?.close(Xi,"connect failed")})}handleMessage(e){let n;try{n=JSON.parse(e)}catch{return}const r=n;if(r.type==="event"){const s=n;if(s.event==="connect.challenge"){const o=s.payload,c=o&&typeof o.nonce=="string"?o.nonce:null;c&&(this.connectNonce=c,this.sendConnect());return}const i=typeof s.seq=="number"?s.seq:null;i!==null&&(this.lastSeq!==null&&i>this.lastSeq+1&&this.opts.onGap?.({expected:this.lastSeq+1,received:i}),this.lastSeq=i);try{this.opts.onEvent?.(s)}catch(o){console.error("[gateway] event handler error:",o)}return}if(r.type==="res"){const s=n,i=this.pending.get(s.id);if(!i)return;this.pending.delete(s.id),s.ok?i.resolve(s.payload):i.reject(new Error(s.error?.message??"request failed"));return}}request(e,n){if(!this.ws||this.ws.readyState!==WebSocket.OPEN)return Promise.reject(new Error("gateway not connected"));const r=Yi(),s={type:"req",id:r,method:e,params:n},i=new Promise((o,c)=>{this.pending.set(r,{resolve:a=>o(a),reject:c})});return this.ws.send(JSON.stringify(s)),i}queueConnect(){this.connectNonce=null,this.connectSent=!1,this.connectTimer!==null&&window.clearTimeout(this.connectTimer),this.connectTimer=window.setTimeout(()=>{this.sendConnect()},750)}}const Vi={CHILD:2},Qi=t=>(...e)=>({_$litDirective$:t,values:e});class Ji{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}}class rn extends Ji{constructor(e){if(super(e),this.it=R,e.type!==Vi.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(e){if(e===R||e==null)return this._t=void 0,this.it=e;if(e===me)return e;if(typeof e!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(e===this.it)return this._t;this.it=e;const n=[e];return n.raw=n,this._t={_$litType$:this.constructor.resultType,strings:n,values:[]}}}rn.directiveName="unsafeHTML",rn.resultType=1;const va=Qi(rn);const{entries:dr,setPrototypeOf:Es,isFrozen:eo,getPrototypeOf:to,getOwnPropertyDescriptor:no}=Object;let{freeze:U,seal:W,create:on}=Object,{apply:an,construct:ln}=typeof Reflect<"u"&&Reflect;U||(U=function(e){return e});W||(W=function(e){return e});an||(an=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];return e.apply(n,s)});ln||(ln=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return new e(...r)});const rt=H(Array.prototype.forEach),so=H(Array.prototype.lastIndexOf),Ss=H(Array.prototype.pop),De=H(Array.prototype.push),ro=H(Array.prototype.splice),ut=H(String.prototype.toLowerCase),Wt=H(String.prototype.toString),qt=H(String.prototype.match),Pe=H(String.prototype.replace),io=H(String.prototype.indexOf),oo=H(String.prototype.trim),Z=H(Object.prototype.hasOwnProperty),P=H(RegExp.prototype.test),ze=ao(TypeError);function H(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return an(t,e,r)}}function ao(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return ln(t,n)}}function A(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ut;Es&&Es(t,null);let r=e.length;for(;r--;){let s=e[r];if(typeof s=="string"){const i=n(s);i!==s&&(eo(e)||(e[r]=i),s=i)}t[s]=!0}return t}function lo(t){for(let e=0;e<t.length;e++)Z(t,e)||(t[e]=null);return t}function Q(t){const e=on(null);for(const[n,r]of dr(t))Z(t,n)&&(Array.isArray(r)?e[n]=lo(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=Q(r):e[n]=r);return e}function Ue(t,e){for(;t!==null;){const r=no(t,e);if(r){if(r.get)return H(r.get);if(typeof r.value=="function")return H(r.value)}t=to(t)}function n(){return null}return n}const $s=U(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Zt=U(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),jt=U(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),co=U(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Yt=U(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),uo=U(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Rs=U(["#text"]),vs=U(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),Kt=U(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","mask-type","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Cs=U(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),it=U(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),ho=W(/\{\{[\w\W]*|[\w\W]*\}\}/gm),po=W(/<%[\w\W]*|[\w\W]*%>/gm),fo=W(/\$\{[\w\W]*/gm),go=W(/^data-[\-\w.\u00B7-\uFFFF]+$/),mo=W(/^aria-[\-\w]+$/),gr=W(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),bo=W(/^(?:\w+script|data):/i),ko=W(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),mr=W(/^html$/i),yo=W(/^[a-z][.\w]*(-[.\w]+)+$/i);var Is=Object.freeze({__proto__:null,ARIA_ATTR:mo,ATTR_WHITESPACE:ko,CUSTOM_ELEMENT:yo,DATA_ATTR:go,DOCTYPE_NAME:mr,ERB_EXPR:po,IS_ALLOWED_URI:gr,IS_SCRIPT_OR_DATA:bo,MUSTACHE_EXPR:ho,TMPLIT_EXPR:fo});const He={element:1,text:3,progressingInstruction:7,comment:8,document:9},Ao=function(){return typeof window>"u"?null:window},_o=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(r=n.getAttribute(s));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},Os=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function br(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ao();const e=b=>br(b);if(e.version="3.3.1",e.removed=[],!t||!t.document||t.document.nodeType!==He.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,s=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:c,Element:a,NodeFilter:h,NamedNodeMap:u=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:f,DOMParser:d,trustedTypes:k}=t,y=a.prototype,S=Ue(y,"cloneNode"),q=Ue(y,"remove"),J=Ue(y,"nextSibling"),le=Ue(y,"childNodes"),ee=Ue(y,"parentNode");if(typeof o=="function"){const b=n.createElement("template");b.content&&b.content.ownerDocument&&(n=b.content.ownerDocument)}let T,F="";const{implementation:Ie,createNodeIterator:xt,createDocumentFragment:vr,getElementsByTagName:Cr}=n,{importNode:Ir}=r;let D=Os();e.isSupported=typeof dr=="function"&&typeof ee=="function"&&Ie&&Ie.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Tt,ERB_EXPR:Et,TMPLIT_EXPR:St,DATA_ATTR:Or,ARIA_ATTR:Lr,IS_SCRIPT_OR_DATA:Nr,ATTR_WHITESPACE:On,CUSTOM_ELEMENT:Mr}=Is;let{IS_ALLOWED_URI:Ln}=Is,C=null;const Nn=A({},[...$s,...Zt,...jt,...Yt,...Rs]);let O=null;const Mn=A({},[...vs,...Kt,...Cs,...it]);let E=Object.seal(on(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Oe=null,$t=null;const _e=Object.seal(on(null,{tagCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeCheck:{writable:!0,configurable:!1,enumerable:!0,value:null}}));let Dn=!0,Rt=!0,Pn=!1,zn=!0,we=!1,Xe=!0,ce=!1,vt=!1,Ct=!1,xe=!1,Ve=!1,Qe=!1,Un=!0,Hn=!1;const Dr="user-content-";let It=!0,Le=!1,Te={},K=null;const Ot=A({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Bn=null;const Fn=A({},["audio","video","img","source","image","track"]);let Lt=null;const Gn=A({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Je="http://www.w3.org/1998/Math/MathML",et="http://www.w3.org/2000/svg",te="http://www.w3.org/1999/xhtml";let Ee=te,Nt=!1,Mt=null;const Pr=A({},[Je,et,te],Wt);let tt=A({},["mi","mo","mn","ms","mtext"]),nt=A({},["annotation-xml"]);const zr=A({},["title","style","font","a","script"]);let Ne=null;const Ur=["application/xhtml+xml","text/html"],Hr="text/html";let v=null,Se=null;const Br=n.createElement("form"),Wn=function(l){return l instanceof RegExp||l instanceof Function},Dt=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Se&&Se===l)){if((!l||typeof l!="object")&&(l={}),l=Q(l),Ne=Ur.indexOf(l.PARSER_MEDIA_TYPE)===-1?Hr:l.PARSER_MEDIA_TYPE,v=Ne==="application/xhtml+xml"?Wt:ut,C=Z(l,"ALLOWED_TAGS")?A({},l.ALLOWED_TAGS,v):Nn,O=Z(l,"ALLOWED_ATTR")?A({},l.ALLOWED_ATTR,v):Mn,Mt=Z(l,"ALLOWED_NAMESPACES")?A({},l.ALLOWED_NAMESPACES,Wt):Pr,Lt=Z(l,"ADD_URI_SAFE_ATTR")?A(Q(Gn),l.ADD_URI_SAFE_ATTR,v):Gn,Bn=Z(l,"ADD_DATA_URI_TAGS")?A(Q(Fn),l.ADD_DATA_URI_TAGS,v):Fn,K=Z(l,"FORBID_CONTENTS")?A({},l.FORBID_CONTENTS,v):Ot,Oe=Z(l,"FORBID_TAGS")?A({},l.FORBID_TAGS,v):Q({}),$t=Z(l,"FORBID_ATTR")?A({},l.FORBID_ATTR,v):Q({}),Te=Z(l,"USE_PROFILES")?l.USE_PROFILES:!1,Dn=l.ALLOW_ARIA_ATTR!==!1,Rt=l.ALLOW_DATA_ATTR!==!1,Pn=l.ALLOW_UNKNOWN_PROTOCOLS||!1,zn=l.ALLOW_SELF_CLOSE_IN_ATTR!==!1,we=l.SAFE_FOR_TEMPLATES||!1,Xe=l.SAFE_FOR_XML!==!1,ce=l.WHOLE_DOCUMENT||!1,xe=l.RETURN_DOM||!1,Ve=l.RETURN_DOM_FRAGMENT||!1,Qe=l.RETURN_TRUSTED_TYPE||!1,Ct=l.FORCE_BODY||!1,Un=l.SANITIZE_DOM!==!1,Hn=l.SANITIZE_NAMED_PROPS||!1,It=l.KEEP_CONTENT!==!1,Le=l.IN_PLACE||!1,Ln=l.ALLOWED_URI_REGEXP||gr,Ee=l.NAMESPACE||te,tt=l.MATHML_TEXT_INTEGRATION_POINTS||tt,nt=l.HTML_INTEGRATION_POINTS||nt,E=l.CUSTOM_ELEMENT_HANDLING||{},l.CUSTOM_ELEMENT_HANDLING&&Wn(l.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(E.tagNameCheck=l.CUSTOM_ELEMENT_HANDLING.tagNameCheck),l.CUSTOM_ELEMENT_HANDLING&&Wn(l.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(E.attributeNameCheck=l.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),l.CUSTOM_ELEMENT_HANDLING&&typeof l.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(E.allowCustomizedBuiltInElements=l.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),we&&(Rt=!1),Ve&&(xe=!0),Te&&(C=A({},Rs),O=[],Te.html===!0&&(A(C,$s),A(O,vs)),Te.svg===!0&&(A(C,Zt),A(O,Kt),A(O,it)),Te.svgFilters===!0&&(A(C,jt),A(O,Kt),A(O,it)),Te.mathMl===!0&&(A(C,Yt),A(O,Cs),A(O,it))),l.ADD_TAGS&&(typeof l.ADD_TAGS=="function"?_e.tagCheck=l.ADD_TAGS:(C===Nn&&(C=Q(C)),A(C,l.ADD_TAGS,v))),l.ADD_ATTR&&(typeof l.ADD_ATTR=="function"?_e.attributeCheck=l.ADD_ATTR:(O===Mn&&(O=Q(O)),A(O,l.ADD_ATTR,v))),l.ADD_URI_SAFE_ATTR&&A(Lt,l.ADD_URI_SAFE_ATTR,v),l.FORBID_CONTENTS&&(K===Ot&&(K=Q(K)),A(K,l.FORBID_CONTENTS,v)),l.ADD_FORBID_CONTENTS&&(K===Ot&&(K=Q(K)),A(K,l.ADD_FORBID_CONTENTS,v)),It&&(C["#text"]=!0),ce&&A(C,["html","head","body"]),C.table&&(A(C,["tbody"]),delete Oe.tbody),l.TRUSTED_TYPES_POLICY){if(typeof l.TRUSTED_TYPES_POLICY.createHTML!="function")throw ze('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof l.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw ze('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');T=l.TRUSTED_TYPES_POLICY,F=T.createHTML("")}else T===void 0&&(T=_o(k,s)),T!==null&&typeof F=="string"&&(F=T.createHTML(""));U&&U(l),Se=l}},qn=A({},[...Zt,...jt,...co]),Zn=A({},[...Yt,...uo]),Fr=function(l){let p=ee(l);(!p||!p.tagName)&&(p={namespaceURI:Ee,tagName:"template"});const m=ut(l.tagName),x=ut(p.tagName);return Mt[l.namespaceURI]?l.namespaceURI===et?p.namespaceURI===te?m==="svg":p.namespaceURI===Je?m==="svg"&&(x==="annotation-xml"||tt[x]):!!qn[m]:l.namespaceURI===Je?p.namespaceURI===te?m==="math":p.namespaceURI===et?m==="math"&&nt[x]:!!Zn[m]:l.namespaceURI===te?p.namespaceURI===et&&!nt[x]||p.namespaceURI===Je&&!tt[x]?!1:!Zn[m]&&(zr[m]||!qn[m]):!!(Ne==="application/xhtml+xml"&&Mt[l.namespaceURI]):!1},X=function(l){De(e.removed,{element:l});try{ee(l).removeChild(l)}catch{q(l)}},ue=function(l,p){try{De(e.removed,{attribute:p.getAttributeNode(l),from:p})}catch{De(e.removed,{attribute:null,from:p})}if(p.removeAttribute(l),l==="is")if(xe||Ve)try{X(p)}catch{}else try{p.setAttribute(l,"")}catch{}},jn=function(l){let p=null,m=null;if(Ct)l="<remove></remove>"+l;else{const $=qt(l,/^[\r\n\t ]+/);m=$&&$[0]}Ne==="application/xhtml+xml"&&Ee===te&&(l='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+l+"</body></html>");const x=T?T.createHTML(l):l;if(Ee===te)try{p=new d().parseFromString(x,Ne)}catch{}if(!p||!p.documentElement){p=Ie.createDocument(Ee,"template",null);try{p.documentElement.innerHTML=Nt?F:x}catch{}}const N=p.body||p.documentElement;return l&&m&&N.insertBefore(n.createTextNode(m),N.childNodes[0]||null),Ee===te?Cr.call(p,ce?"html":"body")[0]:ce?p.documentElement:N},Yn=function(l){return xt.call(l.ownerDocument||l,l,h.SHOW_ELEMENT|h.SHOW_COMMENT|h.SHOW_TEXT|h.SHOW_PROCESSING_INSTRUCTION|h.SHOW_CDATA_SECTION,null)},Pt=function(l){return l instanceof f&&(typeof l.nodeName!="string"||typeof l.textContent!="string"||typeof l.removeChild!="function"||!(l.attributes instanceof u)||typeof l.removeAttribute!="function"||typeof l.setAttribute!="function"||typeof l.namespaceURI!="string"||typeof l.insertBefore!="function"||typeof l.hasChildNodes!="function")},Kn=function(l){return typeof c=="function"&&l instanceof c};function ne(b,l,p){rt(b,m=>{m.call(e,l,p,Se)})}const Xn=function(l){let p=null;if(ne(D.beforeSanitizeElements,l,null),Pt(l))return X(l),!0;const m=v(l.nodeName);if(ne(D.uponSanitizeElement,l,{tagName:m,allowedTags:C}),Xe&&l.hasChildNodes()&&!Kn(l.firstElementChild)&&P(/<[/\w!]/g,l.innerHTML)&&P(/<[/\w!]/g,l.textContent)||l.nodeType===He.progressingInstruction||Xe&&l.nodeType===He.comment&&P(/<[/\w]/g,l.data))return X(l),!0;if(!(_e.tagCheck instanceof Function&&_e.tagCheck(m))&&(!C[m]||Oe[m])){if(!Oe[m]&&Qn(m)&&(E.tagNameCheck instanceof RegExp&&P(E.tagNameCheck,m)||E.tagNameCheck instanceof Function&&E.tagNameCheck(m)))return!1;if(It&&!K[m]){const x=ee(l)||l.parentNode,N=le(l)||l.childNodes;if(N&&x){const $=N.length;for(let B=$-1;B>=0;--B){const se=S(N[B],!0);se.__removalCount=(l.__removalCount||0)+1,x.insertBefore(se,J(l))}}}return X(l),!0}return l instanceof a&&!Fr(l)||(m==="noscript"||m==="noembed"||m==="noframes")&&P(/<\/no(script|embed|frames)/i,l.innerHTML)?(X(l),!0):(we&&l.nodeType===He.text&&(p=l.textContent,rt([Tt,Et,St],x=>{p=Pe(p,x," ")}),l.textContent!==p&&(De(e.removed,{element:l.cloneNode()}),l.textContent=p)),ne(D.afterSanitizeElements,l,null),!1)},Vn=function(l,p,m){if(Un&&(p==="id"||p==="name")&&(m in n||m in Br))return!1;if(!(Rt&&!$t[p]&&P(Or,p))){if(!(Dn&&P(Lr,p))){if(!(_e.attributeCheck instanceof Function&&_e.attributeCheck(p,l))){if(!O[p]||$t[p]){if(!(Qn(l)&&(E.tagNameCheck instanceof RegExp&&P(E.tagNameCheck,l)||E.tagNameCheck instanceof Function&&E.tagNameCheck(l))&&(E.attributeNameCheck instanceof RegExp&&P(E.attributeNameCheck,p)||E.attributeNameCheck instanceof Function&&E.attributeNameCheck(p,l))||p==="is"&&E.allowCustomizedBuiltInElements&&(E.tagNameCheck instanceof RegExp&&P(E.tagNameCheck,m)||E.tagNameCheck instanceof Function&&E.tagNameCheck(m))))return!1}else if(!Lt[p]){if(!P(Ln,Pe(m,On,""))){if(!((p==="src"||p==="xlink:href"||p==="href")&&l!=="script"&&io(m,"data:")===0&&Bn[l])){if(!(Pn&&!P(Nr,Pe(m,On,"")))){if(m)return!1}}}}}}}return!0},Qn=function(l){return l!=="annotation-xml"&&qt(l,Mr)},Jn=function(l){ne(D.beforeSanitizeAttributes,l,null);const{attributes:p}=l;if(!p||Pt(l))return;const m={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:O,forceKeepAttr:void 0};let x=p.length;for(;x--;){const N=p[x],{name:$,namespaceURI:B,value:se}=N,$e=v($),zt=se;let L=$==="value"?zt:oo(zt);if(m.attrName=$e,m.attrValue=L,m.keepAttr=!0,m.forceKeepAttr=void 0,ne(D.uponSanitizeAttribute,l,m),L=m.attrValue,Hn&&($e==="id"||$e==="name")&&(ue($,l),L=Dr+L),Xe&&P(/((--!?|])>)|<\/(style|title|textarea)/i,L)){ue($,l);continue}if($e==="attributename"&&qt(L,"href")){ue($,l);continue}if(m.forceKeepAttr)continue;if(!m.keepAttr){ue($,l);continue}if(!zn&&P(/\/>/i,L)){ue($,l);continue}we&&rt([Tt,Et,St],ts=>{L=Pe(L,ts," ")});const es=v(l.nodeName);if(!Vn(es,$e,L)){ue($,l);continue}if(T&&typeof k=="object"&&typeof k.getAttributeType=="function"&&!B)switch(k.getAttributeType(es,$e)){case"TrustedHTML":{L=T.createHTML(L);break}case"TrustedScriptURL":{L=T.createScriptURL(L);break}}if(L!==zt)try{B?l.setAttributeNS(B,$,L):l.setAttribute($,L),Pt(l)?X(l):Ss(e.removed)}catch{ue($,l)}}ne(D.afterSanitizeAttributes,l,null)},Gr=function b(l){let p=null;const m=Yn(l);for(ne(D.beforeSanitizeShadowDOM,l,null);p=m.nextNode();)ne(D.uponSanitizeShadowNode,p,null),Xn(p),Jn(p),p.content instanceof i&&b(p.content);ne(D.afterSanitizeShadowDOM,l,null)};return e.sanitize=function(b){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=null,m=null,x=null,N=null;if(Nt=!b,Nt&&(b="<!-->"),typeof b!="string"&&!Kn(b))if(typeof b.toString=="function"){if(b=b.toString(),typeof b!="string")throw ze("dirty is not a string, aborting")}else throw ze("toString is not a function");if(!e.isSupported)return b;if(vt||Dt(l),e.removed=[],typeof b=="string"&&(Le=!1),Le){if(b.nodeName){const se=v(b.nodeName);if(!C[se]||Oe[se])throw ze("root node is forbidden and cannot be sanitized in-place")}}else if(b instanceof c)p=jn("<!---->"),m=p.ownerDocument.importNode(b,!0),m.nodeType===He.element&&m.nodeName==="BODY"||m.nodeName==="HTML"?p=m:p.appendChild(m);else{if(!xe&&!we&&!ce&&b.indexOf("<")===-1)return T&&Qe?T.createHTML(b):b;if(p=jn(b),!p)return xe?null:Qe?F:""}p&&Ct&&X(p.firstChild);const $=Yn(Le?b:p);for(;x=$.nextNode();)Xn(x),Jn(x),x.content instanceof i&&Gr(x.content);if(Le)return b;if(xe){if(Ve)for(N=vr.call(p.ownerDocument);p.firstChild;)N.appendChild(p.firstChild);else N=p;return(O.shadowroot||O.shadowrootmode)&&(N=Ir.call(r,N,!0)),N}let B=ce?p.outerHTML:p.innerHTML;return ce&&C["!doctype"]&&p.ownerDocument&&p.ownerDocument.doctype&&p.ownerDocument.doctype.name&&P(mr,p.ownerDocument.doctype.name)&&(B="<!DOCTYPE "+p.ownerDocument.doctype.name+`>
`+B),we&&rt([Tt,Et,St],se=>{B=Pe(B,se," ")}),T&&Qe?T.createHTML(B):B},e.setConfig=function(){let b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Dt(b),vt=!0},e.clearConfig=function(){Se=null,vt=!1},e.isValidAttribute=function(b,l,p){Se||Dt({});const m=v(b),x=v(l);return Vn(m,x,p)},e.addHook=function(b,l){typeof l=="function"&&De(D[b],l)},e.removeHook=function(b,l){if(l!==void 0){const p=so(D[b],l);return p===-1?void 0:ro(D[b],p,1)[0]}return Ss(D[b])},e.removeHooks=function(b){D[b]=[]},e.removeAllHooks=function(){D=Os()},e}var cn=br();function xn(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ae=xn();function kr(t){Ae=t}var qe={exec:()=>null};function _(t,e=""){let n=typeof t=="string"?t:t.source,r={replace:(s,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(z.caret,"$1"),n=n.replace(s,o),r},getRegex:()=>new RegExp(n,e)};return r}var wo=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),z={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] +\S/,listReplaceTask:/^\[[ xX]\] +/,listTaskCheckbox:/\[[ xX]\]/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},xo=/^(?:[ \t]*(?:\n|$))+/,To=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Eo=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ke=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,So=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Tn=/(?:[*+-]|\d{1,9}[.)])/,yr=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ar=_(yr).replace(/bull/g,Tn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),$o=_(yr).replace(/bull/g,Tn).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),En=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Ro=/^[^\n]+/,Sn=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,vo=_(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",Sn).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Co=_(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Tn).getRegex(),_t="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",$n=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Io=_("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",$n).replace("tag",_t).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),_r=_(En).replace("hr",Ke).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_t).getRegex(),Oo=_(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",_r).getRegex(),Rn={blockquote:Oo,code:To,def:vo,fences:Eo,heading:So,hr:Ke,html:Io,lheading:Ar,list:Co,newline:xo,paragraph:_r,table:qe,text:Ro},Ls=_("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ke).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_t).getRegex(),Lo={...Rn,lheading:$o,table:Ls,paragraph:_(En).replace("hr",Ke).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Ls).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_t).getRegex()},No={...Rn,html:_(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",$n).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:qe,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:_(En).replace("hr",Ke).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ar).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Mo=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Do=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,wr=/^( {2,}|\\)\n(?!\s*$)/,Po=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,wt=/[\p{P}\p{S}]/u,vn=/[\s\p{P}\p{S}]/u,xr=/[^\s\p{P}\p{S}]/u,zo=_(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,vn).getRegex(),Tr=/(?!~)[\p{P}\p{S}]/u,Uo=/(?!~)[\s\p{P}\p{S}]/u,Ho=/(?:[^\s\p{P}\p{S}]|~)/u,Bo=_(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",wo?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Er=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,Fo=_(Er,"u").replace(/punct/g,wt).getRegex(),Go=_(Er,"u").replace(/punct/g,Tr).getRegex(),Sr="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",Wo=_(Sr,"gu").replace(/notPunctSpace/g,xr).replace(/punctSpace/g,vn).replace(/punct/g,wt).getRegex(),qo=_(Sr,"gu").replace(/notPunctSpace/g,Ho).replace(/punctSpace/g,Uo).replace(/punct/g,Tr).getRegex(),Zo=_("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,xr).replace(/punctSpace/g,vn).replace(/punct/g,wt).getRegex(),jo=_(/\\(punct)/,"gu").replace(/punct/g,wt).getRegex(),Yo=_(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Ko=_($n).replace("(?:-->|$)","-->").getRegex(),Xo=_("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Ko).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),dt=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,Vo=_(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",dt).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),$r=_(/^!?\[(label)\]\[(ref)\]/).replace("label",dt).replace("ref",Sn).getRegex(),Rr=_(/^!?\[(ref)\](?:\[\])?/).replace("ref",Sn).getRegex(),Qo=_("reflink|nolink(?!\\()","g").replace("reflink",$r).replace("nolink",Rr).getRegex(),Ns=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Cn={_backpedal:qe,anyPunctuation:jo,autolink:Yo,blockSkip:Bo,br:wr,code:Do,del:qe,emStrongLDelim:Fo,emStrongRDelimAst:Wo,emStrongRDelimUnd:Zo,escape:Mo,link:Vo,nolink:Rr,punctuation:zo,reflink:$r,reflinkSearch:Qo,tag:Xo,text:Po,url:qe},Jo={...Cn,link:_(/^!?\[(label)\]\((.*?)\)/).replace("label",dt).getRegex(),reflink:_(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",dt).getRegex()},un={...Cn,emStrongRDelimAst:qo,emStrongLDelim:Go,url:_(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",Ns).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:_(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",Ns).getRegex()},ea={...un,br:_(wr).replace("{2,}","*").getRegex(),text:_(un.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ot={normal:Rn,gfm:Lo,pedantic:No},Be={normal:Cn,gfm:un,breaks:ea,pedantic:Jo},ta={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Ms=t=>ta[t];function ie(t,e){if(e){if(z.escapeTest.test(t))return t.replace(z.escapeReplace,Ms)}else if(z.escapeTestNoEncode.test(t))return t.replace(z.escapeReplaceNoEncode,Ms);return t}function Ds(t){try{t=encodeURI(t).replace(z.percentDecode,"%")}catch{return null}return t}function Ps(t,e){let n=t.replace(z.findPipe,(i,o,c)=>{let a=!1,h=o;for(;--h>=0&&c[h]==="\\";)a=!a;return a?"|":" |"}),r=n.split(z.splitPipe),s=0;if(r[0].trim()||r.shift(),r.length>0&&!r.at(-1)?.trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(z.slashPipe,"|");return r}function Fe(t,e,n){let r=t.length;if(r===0)return"";let s=0;for(;s<r&&t.charAt(r-s-1)===e;)s++;return t.slice(0,r-s)}function na(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return n>0?-2:-1}function zs(t,e,n,r,s){let i=e.href,o=e.title||null,c=t[1].replace(s.other.outputLinkReplace,"$1");r.state.inLink=!0;let a={type:t[0].charAt(0)==="!"?"image":"link",raw:n,href:i,title:o,text:c,tokens:r.inlineTokens(c)};return r.state.inLink=!1,a}function sa(t,e,n){let r=t.match(n.other.indentCodeCompensation);if(r===null)return e;let s=r[1];return e.split(`
`).map(i=>{let o=i.match(n.other.beginningSpace);if(o===null)return i;let[c]=o;return c.length>=s.length?i.slice(s.length):i}).join(`
`)}var gt=class{options;rules;lexer;constructor(t){this.options=t||Ae}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let n=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Fe(n,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let n=e[0],r=sa(n,e[3]||"",this.rules);return{type:"code",raw:n,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:r}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let n=e[2].trim();if(this.rules.other.endingHash.test(n)){let r=Fe(n,"#");(this.options.pedantic||!r||this.rules.other.endingSpaceChar.test(r))&&(n=r.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:Fe(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let n=Fe(e[0],`
`).split(`
`),r="",s="",i=[];for(;n.length>0;){let o=!1,c=[],a;for(a=0;a<n.length;a++)if(this.rules.other.blockquoteStart.test(n[a]))c.push(n[a]),o=!0;else if(!o)c.push(n[a]);else break;n=n.slice(a);let h=c.join(`
`),u=h.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");r=r?`${r}
${h}`:h,s=s?`${s}
${u}`:u;let f=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,i,!0),this.lexer.state.top=f,n.length===0)break;let d=i.at(-1);if(d?.type==="code")break;if(d?.type==="blockquote"){let k=d,y=k.raw+`
`+n.join(`
`),S=this.blockquote(y);i[i.length-1]=S,r=r.substring(0,r.length-k.raw.length)+S.raw,s=s.substring(0,s.length-k.text.length)+S.text;break}else if(d?.type==="list"){let k=d,y=k.raw+`
`+n.join(`
`),S=this.list(y);i[i.length-1]=S,r=r.substring(0,r.length-d.raw.length)+S.raw,s=s.substring(0,s.length-k.raw.length)+S.raw,n=y.substring(i.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:i,text:s}}}list(t){let e=this.rules.block.list.exec(t);if(e){let n=e[1].trim(),r=n.length>1,s={type:"list",raw:"",ordered:r,start:r?+n.slice(0,-1):"",loose:!1,items:[]};n=r?`\\d{1,9}\\${n.slice(-1)}`:`\\${n}`,this.options.pedantic&&(n=r?n:"[*+-]");let i=this.rules.other.listItemRegex(n),o=!1;for(;t;){let a=!1,h="",u="";if(!(e=i.exec(t))||this.rules.block.hr.test(t))break;h=e[0],t=t.substring(h.length);let f=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,S=>" ".repeat(3*S.length)),d=t.split(`
`,1)[0],k=!f.trim(),y=0;if(this.options.pedantic?(y=2,u=f.trimStart()):k?y=e[1].length+1:(y=e[2].search(this.rules.other.nonSpaceChar),y=y>4?1:y,u=f.slice(y),y+=e[1].length),k&&this.rules.other.blankLine.test(d)&&(h+=d+`
`,t=t.substring(d.length+1),a=!0),!a){let S=this.rules.other.nextBulletRegex(y),q=this.rules.other.hrRegex(y),J=this.rules.other.fencesBeginRegex(y),le=this.rules.other.headingBeginRegex(y),ee=this.rules.other.htmlBeginRegex(y);for(;t;){let T=t.split(`
`,1)[0],F;if(d=T,this.options.pedantic?(d=d.replace(this.rules.other.listReplaceNesting,"  "),F=d):F=d.replace(this.rules.other.tabCharGlobal,"    "),J.test(d)||le.test(d)||ee.test(d)||S.test(d)||q.test(d))break;if(F.search(this.rules.other.nonSpaceChar)>=y||!d.trim())u+=`
`+F.slice(y);else{if(k||f.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||J.test(f)||le.test(f)||q.test(f))break;u+=`
`+d}!k&&!d.trim()&&(k=!0),h+=T+`
`,t=t.substring(T.length+1),f=F.slice(y)}}s.loose||(o?s.loose=!0:this.rules.other.doubleBlankLine.test(h)&&(o=!0)),s.items.push({type:"list_item",raw:h,task:!!this.options.gfm&&this.rules.other.listIsTask.test(u),loose:!1,text:u,tokens:[]}),s.raw+=h}let c=s.items.at(-1);if(c)c.raw=c.raw.trimEnd(),c.text=c.text.trimEnd();else return;s.raw=s.raw.trimEnd();for(let a of s.items){if(this.lexer.state.top=!1,a.tokens=this.lexer.blockTokens(a.text,[]),a.task){if(a.text=a.text.replace(this.rules.other.listReplaceTask,""),a.tokens[0]?.type==="text"||a.tokens[0]?.type==="paragraph"){a.tokens[0].raw=a.tokens[0].raw.replace(this.rules.other.listReplaceTask,""),a.tokens[0].text=a.tokens[0].text.replace(this.rules.other.listReplaceTask,"");for(let u=this.lexer.inlineQueue.length-1;u>=0;u--)if(this.rules.other.listIsTask.test(this.lexer.inlineQueue[u].src)){this.lexer.inlineQueue[u].src=this.lexer.inlineQueue[u].src.replace(this.rules.other.listReplaceTask,"");break}}let h=this.rules.other.listTaskCheckbox.exec(a.raw);if(h){let u={type:"checkbox",raw:h[0]+" ",checked:h[0]!=="[ ]"};a.checked=u.checked,s.loose?a.tokens[0]&&["paragraph","text"].includes(a.tokens[0].type)&&"tokens"in a.tokens[0]&&a.tokens[0].tokens?(a.tokens[0].raw=u.raw+a.tokens[0].raw,a.tokens[0].text=u.raw+a.tokens[0].text,a.tokens[0].tokens.unshift(u)):a.tokens.unshift({type:"paragraph",raw:u.raw,text:u.raw,tokens:[u]}):a.tokens.unshift(u)}}if(!s.loose){let h=a.tokens.filter(f=>f.type==="space"),u=h.length>0&&h.some(f=>this.rules.other.anyLine.test(f.raw));s.loose=u}}if(s.loose)for(let a of s.items){a.loose=!0;for(let h of a.tokens)h.type==="text"&&(h.type="paragraph")}return s}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let n=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),r=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:n,raw:e[0],href:r,title:s}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let n=Ps(e[1]),r=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),s=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],i={type:"table",raw:e[0],header:[],align:[],rows:[]};if(n.length===r.length){for(let o of r)this.rules.other.tableAlignRight.test(o)?i.align.push("right"):this.rules.other.tableAlignCenter.test(o)?i.align.push("center"):this.rules.other.tableAlignLeft.test(o)?i.align.push("left"):i.align.push(null);for(let o=0;o<n.length;o++)i.header.push({text:n[o],tokens:this.lexer.inline(n[o]),header:!0,align:i.align[o]});for(let o of s)i.rows.push(Ps(o,i.header.length).map((c,a)=>({text:c,tokens:this.lexer.inline(c),header:!1,align:i.align[a]})));return i}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let n=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:n,tokens:this.lexer.inline(n)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let n=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(n)){if(!this.rules.other.endAngleBracket.test(n))return;let i=Fe(n.slice(0,-1),"\\");if((n.length-i.length)%2===0)return}else{let i=na(e[2],"()");if(i===-2)return;if(i>-1){let o=(e[0].indexOf("!")===0?5:4)+e[1].length+i;e[2]=e[2].substring(0,i),e[0]=e[0].substring(0,o).trim(),e[3]=""}}let r=e[2],s="";if(this.options.pedantic){let i=this.rules.other.pedanticHrefTitle.exec(r);i&&(r=i[1],s=i[3])}else s=e[3]?e[3].slice(1,-1):"";return r=r.trim(),this.rules.other.startAngleBracket.test(r)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(n)?r=r.slice(1):r=r.slice(1,-1)),zs(e,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let n;if((n=this.rules.inline.reflink.exec(t))||(n=this.rules.inline.nolink.exec(t))){let r=(n[2]||n[1]).replace(this.rules.other.multipleSpaceGlobal," "),s=e[r.toLowerCase()];if(!s){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return zs(n,s,n[0],this.lexer,this.rules)}}emStrong(t,e,n=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!(!r||r[3]&&n.match(this.rules.other.unicodeAlphaNumeric))&&(!(r[1]||r[2])||!n||this.rules.inline.punctuation.exec(n))){let s=[...r[0]].length-1,i,o,c=s,a=0,h=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,e=e.slice(-1*t.length+s);(r=h.exec(e))!=null;){if(i=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!i)continue;if(o=[...i].length,r[3]||r[4]){c+=o;continue}else if((r[5]||r[6])&&s%3&&!((s+o)%3)){a+=o;continue}if(c-=o,c>0)continue;o=Math.min(o,o+c+a);let u=[...r[0]][0].length,f=t.slice(0,s+r.index+u+o);if(Math.min(s,o)%2){let k=f.slice(1,-1);return{type:"em",raw:f,text:k,tokens:this.lexer.inlineTokens(k)}}let d=f.slice(2,-2);return{type:"strong",raw:f,text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let n=e[2].replace(this.rules.other.newLineCharGlobal," "),r=this.rules.other.nonSpaceChar.test(n),s=this.rules.other.startingSpaceChar.test(n)&&this.rules.other.endingSpaceChar.test(n);return r&&s&&(n=n.substring(1,n.length-1)),{type:"codespan",raw:e[0],text:n}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let n,r;return e[2]==="@"?(n=e[1],r="mailto:"+n):(n=e[1],r=n),{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let n,r;if(e[2]==="@")n=e[0],r="mailto:"+n;else{let s;do s=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(s!==e[0]);n=e[0],e[1]==="www."?r="http://"+e[0]:r=e[0]}return{type:"link",raw:e[0],text:n,href:r,tokens:[{type:"text",raw:n,text:n}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let n=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:n}}}},j=class hn{tokens;options;state;inlineQueue;tokenizer;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ae,this.options.tokenizer=this.options.tokenizer||new gt,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={other:z,block:ot.normal,inline:Be.normal};this.options.pedantic?(n.block=ot.pedantic,n.inline=Be.pedantic):this.options.gfm&&(n.block=ot.gfm,this.options.breaks?n.inline=Be.breaks:n.inline=Be.gfm),this.tokenizer.rules=n}static get rules(){return{block:ot,inline:Be}}static lex(e,n){return new hn(n).lex(e)}static lexInline(e,n){return new hn(n).inlineTokens(e)}lex(e){e=e.replace(z.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[],r=!1){for(this.options.pedantic&&(e=e.replace(z.tabCharGlobal,"    ").replace(z.spaceLine,""));e;){let s;if(this.options.extensions?.block?.some(o=>(s=o.call({lexer:this},e,n))?(e=e.substring(s.raw.length),n.push(s),!0):!1))continue;if(s=this.tokenizer.space(e)){e=e.substring(s.raw.length);let o=n.at(-1);s.raw.length===1&&o!==void 0?o.raw+=`
`:n.push(s);continue}if(s=this.tokenizer.code(e)){e=e.substring(s.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.text,this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(s=this.tokenizer.fences(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.heading(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.hr(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.blockquote(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.list(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.html(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.def(e)){e=e.substring(s.raw.length);let o=n.at(-1);o?.type==="paragraph"||o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.raw,this.inlineQueue.at(-1).src=o.text):this.tokens.links[s.tag]||(this.tokens.links[s.tag]={href:s.href,title:s.title},n.push(s));continue}if(s=this.tokenizer.table(e)){e=e.substring(s.raw.length),n.push(s);continue}if(s=this.tokenizer.lheading(e)){e=e.substring(s.raw.length),n.push(s);continue}let i=e;if(this.options.extensions?.startBlock){let o=1/0,c=e.slice(1),a;this.options.extensions.startBlock.forEach(h=>{a=h.call({lexer:this},c),typeof a=="number"&&a>=0&&(o=Math.min(o,a))}),o<1/0&&o>=0&&(i=e.substring(0,o+1))}if(this.state.top&&(s=this.tokenizer.paragraph(i))){let o=n.at(-1);r&&o?.type==="paragraph"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s),r=i.length!==e.length,e=e.substring(s.raw.length);continue}if(s=this.tokenizer.text(e)){e=e.substring(s.raw.length);let o=n.at(-1);o?.type==="text"?(o.raw+=(o.raw.endsWith(`
`)?"":`
`)+s.raw,o.text+=`
`+s.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=o.text):n.push(s);continue}if(e){let o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r=e,s=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(s=this.tokenizer.rules.inline.reflinkSearch.exec(r))!=null;)a.includes(s[0].slice(s[0].lastIndexOf("[")+1,-1))&&(r=r.slice(0,s.index)+"["+"a".repeat(s[0].length-2)+"]"+r.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(s=this.tokenizer.rules.inline.anyPunctuation.exec(r))!=null;)r=r.slice(0,s.index)+"++"+r.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let i;for(;(s=this.tokenizer.rules.inline.blockSkip.exec(r))!=null;)i=s[2]?s[2].length:0,r=r.slice(0,s.index+i)+"["+"a".repeat(s[0].length-i-2)+"]"+r.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);r=this.options.hooks?.emStrongMask?.call({lexer:this},r)??r;let o=!1,c="";for(;e;){o||(c=""),o=!1;let a;if(this.options.extensions?.inline?.some(u=>(a=u.call({lexer:this},e,n))?(e=e.substring(a.raw.length),n.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);let u=n.at(-1);a.type==="text"&&u?.type==="text"?(u.raw+=a.raw,u.text+=a.text):n.push(a);continue}if(a=this.tokenizer.emStrong(e,r,c)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),n.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),n.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),n.push(a);continue}let h=e;if(this.options.extensions?.startInline){let u=1/0,f=e.slice(1),d;this.options.extensions.startInline.forEach(k=>{d=k.call({lexer:this},f),typeof d=="number"&&d>=0&&(u=Math.min(u,d))}),u<1/0&&u>=0&&(h=e.substring(0,u+1))}if(a=this.tokenizer.inlineText(h)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(c=a.raw.slice(-1)),o=!0;let u=n.at(-1);u?.type==="text"?(u.raw+=a.raw,u.text+=a.text):n.push(a);continue}if(e){let u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}},mt=class{options;parser;constructor(t){this.options=t||Ae}space(t){return""}code({text:t,lang:e,escaped:n}){let r=(e||"").match(z.notSpaceStart)?.[0],s=t.replace(z.endingNewline,"")+`
`;return r?'<pre><code class="language-'+ie(r)+'">'+(n?s:ie(s,!0))+`</code></pre>
`:"<pre><code>"+(n?s:ie(s,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,n=t.start,r="";for(let o=0;o<t.items.length;o++){let c=t.items[o];r+=this.listitem(c)}let s=e?"ol":"ul",i=e&&n!==1?' start="'+n+'"':"";return"<"+s+i+`>
`+r+"</"+s+`>
`}listitem(t){return`<li>${this.parser.parse(t.tokens)}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox"> '}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",n="";for(let s=0;s<t.header.length;s++)n+=this.tablecell(t.header[s]);e+=this.tablerow({text:n});let r="";for(let s=0;s<t.rows.length;s++){let i=t.rows[s];n="";for(let o=0;o<i.length;o++)n+=this.tablecell(i[o]);r+=this.tablerow({text:n})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${ie(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:n}){let r=this.parser.parseInline(n),s=Ds(t);if(s===null)return r;t=s;let i='<a href="'+t+'"';return e&&(i+=' title="'+ie(e)+'"'),i+=">"+r+"</a>",i}image({href:t,title:e,text:n,tokens:r}){r&&(n=this.parser.parseInline(r,this.parser.textRenderer));let s=Ds(t);if(s===null)return ie(n);t=s;let i=`<img src="${t}" alt="${n}"`;return e&&(i+=` title="${ie(e)}"`),i+=">",i}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:ie(t.text)}},In=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}checkbox({raw:t}){return t}},Y=class pn{options;renderer;textRenderer;constructor(e){this.options=e||Ae,this.options.renderer=this.options.renderer||new mt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new In}static parse(e,n){return new pn(n).parse(e)}static parseInline(e,n){return new pn(n).parseInline(e)}parse(e){let n="";for(let r=0;r<e.length;r++){let s=e[r];if(this.options.extensions?.renderers?.[s.type]){let o=s,c=this.options.extensions.renderers[o.type].call({parser:this},o);if(c!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){n+=c||"";continue}}let i=s;switch(i.type){case"space":{n+=this.renderer.space(i);break}case"hr":{n+=this.renderer.hr(i);break}case"heading":{n+=this.renderer.heading(i);break}case"code":{n+=this.renderer.code(i);break}case"table":{n+=this.renderer.table(i);break}case"blockquote":{n+=this.renderer.blockquote(i);break}case"list":{n+=this.renderer.list(i);break}case"checkbox":{n+=this.renderer.checkbox(i);break}case"html":{n+=this.renderer.html(i);break}case"def":{n+=this.renderer.def(i);break}case"paragraph":{n+=this.renderer.paragraph(i);break}case"text":{n+=this.renderer.text(i);break}default:{let o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,n=this.renderer){let r="";for(let s=0;s<e.length;s++){let i=e[s];if(this.options.extensions?.renderers?.[i.type]){let c=this.options.extensions.renderers[i.type].call({parser:this},i);if(c!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=c||"";continue}}let o=i;switch(o.type){case"escape":{r+=n.text(o);break}case"html":{r+=n.html(o);break}case"link":{r+=n.link(o);break}case"image":{r+=n.image(o);break}case"checkbox":{r+=n.checkbox(o);break}case"strong":{r+=n.strong(o);break}case"em":{r+=n.em(o);break}case"codespan":{r+=n.codespan(o);break}case"br":{r+=n.br(o);break}case"del":{r+=n.del(o);break}case"text":{r+=n.text(o);break}default:{let c='Token with "'+o.type+'" type was not found.';if(this.options.silent)return console.error(c),"";throw new Error(c)}}}return r}},Ge=class{options;block;constructor(t){this.options=t||Ae}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?j.lex:j.lexInline}provideParser(){return this.block?Y.parse:Y.parseInline}},ra=class{defaults=xn();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Y;Renderer=mt;TextRenderer=In;Lexer=j;Tokenizer=gt;Hooks=Ge;constructor(...t){this.use(...t)}walkTokens(t,e){let n=[];for(let r of t)switch(n=n.concat(e.call(this,r)),r.type){case"table":{let s=r;for(let i of s.header)n=n.concat(this.walkTokens(i.tokens,e));for(let i of s.rows)for(let o of i)n=n.concat(this.walkTokens(o.tokens,e));break}case"list":{let s=r;n=n.concat(this.walkTokens(s.items,e));break}default:{let s=r;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(i=>{let o=s[i].flat(1/0);n=n.concat(this.walkTokens(o,e))}):s.tokens&&(n=n.concat(this.walkTokens(s.tokens,e)))}}return n}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(n=>{let r={...n};if(r.async=this.defaults.async||r.async||!1,n.extensions&&(n.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let i=e.renderers[s.name];i?e.renderers[s.name]=function(...o){let c=s.renderer.apply(this,o);return c===!1&&(c=i.apply(this,o)),c}:e.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let i=e[s.level];i?i.unshift(s.tokenizer):e[s.level]=[s.tokenizer],s.start&&(s.level==="block"?e.startBlock?e.startBlock.push(s.start):e.startBlock=[s.start]:s.level==="inline"&&(e.startInline?e.startInline.push(s.start):e.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(e.childTokens[s.name]=s.childTokens)}),r.extensions=e),n.renderer){let s=this.defaults.renderer||new mt(this.defaults);for(let i in n.renderer){if(!(i in s))throw new Error(`renderer '${i}' does not exist`);if(["options","parser"].includes(i))continue;let o=i,c=n.renderer[o],a=s[o];s[o]=(...h)=>{let u=c.apply(s,h);return u===!1&&(u=a.apply(s,h)),u||""}}r.renderer=s}if(n.tokenizer){let s=this.defaults.tokenizer||new gt(this.defaults);for(let i in n.tokenizer){if(!(i in s))throw new Error(`tokenizer '${i}' does not exist`);if(["options","rules","lexer"].includes(i))continue;let o=i,c=n.tokenizer[o],a=s[o];s[o]=(...h)=>{let u=c.apply(s,h);return u===!1&&(u=a.apply(s,h)),u}}r.tokenizer=s}if(n.hooks){let s=this.defaults.hooks||new Ge;for(let i in n.hooks){if(!(i in s))throw new Error(`hook '${i}' does not exist`);if(["options","block"].includes(i))continue;let o=i,c=n.hooks[o],a=s[o];Ge.passThroughHooks.has(i)?s[o]=h=>{if(this.defaults.async&&Ge.passThroughHooksRespectAsync.has(i))return(async()=>{let f=await c.call(s,h);return a.call(s,f)})();let u=c.call(s,h);return a.call(s,u)}:s[o]=(...h)=>{if(this.defaults.async)return(async()=>{let f=await c.apply(s,h);return f===!1&&(f=await a.apply(s,h)),f})();let u=c.apply(s,h);return u===!1&&(u=a.apply(s,h)),u}}r.hooks=s}if(n.walkTokens){let s=this.defaults.walkTokens,i=n.walkTokens;r.walkTokens=function(o){let c=[];return c.push(i.call(this,o)),s&&(c=c.concat(s.call(this,o))),c}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return j.lex(t,e??this.defaults)}parser(t,e){return Y.parse(t,e??this.defaults)}parseMarkdown(t){return(e,n)=>{let r={...n},s={...this.defaults,...r},i=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&r.async===!1)return i(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return i(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(s.hooks&&(s.hooks.options=s,s.hooks.block=t),s.async)return(async()=>{let o=s.hooks?await s.hooks.preprocess(e):e,c=await(s.hooks?await s.hooks.provideLexer():t?j.lex:j.lexInline)(o,s),a=s.hooks?await s.hooks.processAllTokens(c):c;s.walkTokens&&await Promise.all(this.walkTokens(a,s.walkTokens));let h=await(s.hooks?await s.hooks.provideParser():t?Y.parse:Y.parseInline)(a,s);return s.hooks?await s.hooks.postprocess(h):h})().catch(i);try{s.hooks&&(e=s.hooks.preprocess(e));let o=(s.hooks?s.hooks.provideLexer():t?j.lex:j.lexInline)(e,s);s.hooks&&(o=s.hooks.processAllTokens(o)),s.walkTokens&&this.walkTokens(o,s.walkTokens);let c=(s.hooks?s.hooks.provideParser():t?Y.parse:Y.parseInline)(o,s);return s.hooks&&(c=s.hooks.postprocess(c)),c}catch(o){return i(o)}}}onError(t,e){return n=>{if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let r="<p>An error occurred:</p><pre>"+ie(n.message+"",!0)+"</pre>";return e?Promise.resolve(r):r}if(e)return Promise.reject(n);throw n}}},ye=new ra;function w(t,e){return ye.parse(t,e)}w.options=w.setOptions=function(t){return ye.setOptions(t),w.defaults=ye.defaults,kr(w.defaults),w};w.getDefaults=xn;w.defaults=Ae;w.use=function(...t){return ye.use(...t),w.defaults=ye.defaults,kr(w.defaults),w};w.walkTokens=function(t,e){return ye.walkTokens(t,e)};w.parseInline=ye.parseInline;w.Parser=Y;w.parser=Y.parse;w.Renderer=mt;w.TextRenderer=In;w.Lexer=j;w.lexer=j.lex;w.Tokenizer=gt;w.Hooks=Ge;w.parse=w;w.options;w.setOptions;w.use;w.walkTokens;w.parseInline;Y.parse;j.lex;w.setOptions({gfm:!0,breaks:!0,mangle:!1});const Us=["a","b","blockquote","br","code","del","em","h1","h2","h3","h4","hr","i","li","ol","p","pre","strong","table","tbody","td","th","thead","tr","ul"],Hs=["class","href","rel","target","title","start"];let Bs=!1;const ia=14e4,oa=4e4,aa=200,Xt=5e4,de=new Map;function la(t){const e=de.get(t);return e===void 0?null:(de.delete(t),de.set(t,e),e)}function Fs(t,e){if(de.set(t,e),de.size<=aa)return;const n=de.keys().next().value;n&&de.delete(n)}function ca(){Bs||(Bs=!0,cn.addHook("afterSanitizeAttributes",t=>{!(t instanceof HTMLAnchorElement)||!t.getAttribute("href")||(t.setAttribute("rel","noreferrer noopener"),t.setAttribute("target","_blank"))}))}function Ca(t){const e=t.trim();if(!e)return"";if(ca(),e.length<=Xt){const o=la(e);if(o!==null)return o}const n=gi(e,ia),r=n.truncated?`

â€¦ truncated (${n.total} chars, showing first ${n.text.length}).`:"";if(n.text.length>oa){const c=`<pre class="code-block">${ua(`${n.text}${r}`)}</pre>`,a=cn.sanitize(c,{ALLOWED_TAGS:Us,ALLOWED_ATTR:Hs});return e.length<=Xt&&Fs(e,a),a}const s=w.parse(`${n.text}${r}`),i=cn.sanitize(s,{ALLOWED_TAGS:Us,ALLOWED_ATTR:Hs});return e.length<=Xt&&Fs(e,i),i}function ua(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}export{R as A,ui as D,me as E,Ra as G,gi as a,da as b,yi as c,$a as d,Qi as e,Ws as f,Yi as g,Vi as h,Ji as i,ya as j,_a as k,Wi as l,wa as m,xa as n,va as o,Ca as p,pa as q,lt as r,ki as s,Sa as t,Vt as u,Ta as v,Ea as w};
//# sourceMappingURL=markdown-2HYSs03f.js.map

<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="智税宝 - 税务助手" />
    <title>智税宝 - 税务助手</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --primary-color: #00A8FF;
        --primary-light: #33B8FF;
        --primary-dark: #0088CC;
        --success-color: #10b981;
        --danger-color: #ef4444;
        --warning-color: #f59e0b;
        --gray-50: #f9fafb;
        --gray-100: #f3f4f6;
        --gray-200: #e5e7eb;
        --gray-300: #d1d5db;
        --gray-400: #9ca3af;
        --gray-500: #6b7280;
        --gray-600: #4b5563;
        --gray-700: #374151;
        --gray-800: #1f2937;
        --gray-900: #111827;
        --bg-pattern: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2300A8FF' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
      }

      html, body {
        height: 100%;
        width: 100%;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Microsoft YaHei", sans-serif;
        background: linear-gradient(135deg, #E3F2FD 0%, #F5F5F5 50%, #FFF9E6 100%);
        background-attachment: fixed;
        color: var(--gray-800);
        overflow: hidden;
        position: relative;
      }

      body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-image: var(--bg-pattern);
        opacity: 1;
        pointer-events: none;
        z-index: 0;
      }

      #app {
        height: 100vh;
        display: flex;
        flex-direction: column;
        position: relative;
        z-index: 1;
      }

      .taxchat-app {
        display: flex;
        flex-direction: column;
        height: 100%;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        box-shadow: 0 0 40px rgba(0, 0, 0, 0.1);
        border-radius: 12px;
        margin: 12px;
        overflow: hidden;
      }

      /* ========== Header ========== */
      .taxchat-header {
        background: linear-gradient(135deg, #00A8FF 0%, #0088CC 100%);
        color: white;
        padding: 16px 24px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-shadow: 0 4px 12px rgba(0, 168, 255, 0.2);
        flex-shrink: 0;
        position: relative;
      }

      .taxchat-header::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url("data:image/svg+xml,%3Csvg width='40' height='40' viewBox='0 0 40 40' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='white' fill-opacity='0.05'%3E%3Cpath d='M0 40L40 0H20L0 20M40 40V20L20 40'/%3E%3C/g%3E%3C/svg%3E");
        opacity: 0.5;
        pointer-events: none;
      }

      .taxchat-header__title {
        display: flex;
        align-items: center;
        gap: 12px;
        flex: 1;
        position: relative;
        z-index: 1;
      }

      .taxchat-header__title h1 {
        font-size: 22px;
        font-weight: 700;
        letter-spacing: 0.5px;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      }

      .taxchat-header__logo {
        width: 40px;
        height: 40px;
        flex-shrink: 0;
      }

      .taxchat-header__logo img {
        width: 100%;
        height: 100%;
        object-fit: contain;
      }

      .taxchat-header__icon {
        font-size: 24px;
      }

      .taxchat-header__status {
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 13px;
        background: rgba(255, 255, 255, 0.25);
        padding: 6px 14px;
        border-radius: 20px;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.3);
        position: relative;
        z-index: 1;
      }

      .status-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: #fbbf24;
        animation: pulse 2s infinite;
      }

      .status-dot.ok {
        background: #34d399;
        animation: none;
      }

      @keyframes pulse {
        0%, 100% {
          opacity: 1;
        }
        50% {
          opacity: 0.5;
        }
      }

      /* ========== Header Right Group ========== */
      .taxchat-header__right {
        display: flex;
        align-items: center;
        gap: 8px;
        position: relative;
        z-index: 1;
      }

      .favorites-toggle-btn {
        background: rgba(255, 255, 255, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 20px;
        padding: 6px 12px;
        color: white;
        cursor: pointer;
        font-size: 14px;
        display: flex;
        align-items: center;
        gap: 4px;
        transition: all 0.2s;
        backdrop-filter: blur(10px);
      }
      .favorites-toggle-btn:hover {
        background: rgba(255, 255, 255, 0.35);
      }
      .favorites-toggle-btn.active {
        background: rgba(255, 255, 255, 0.45);
        border-color: rgba(255, 255, 255, 0.5);
      }
      .knowledge-toggle-btn {
        background: rgba(255, 255, 255, 0.2);
        border: 1px solid rgba(255, 255, 255, 0.3);
        border-radius: 20px;
        padding: 6px 18px;
        color: white;
        cursor: pointer;
        font-size: 13px;
        font-weight: 500;
        letter-spacing: 1px;
        transition: all 0.2s;
        backdrop-filter: blur(10px);
      }
      .knowledge-toggle-btn:hover {
        background: rgba(255, 255, 255, 0.35);
      }
      .knowledge-toggle-btn.active {
        background: rgba(255, 255, 255, 0.45);
        border-color: rgba(255, 255, 255, 0.5);
      }
      .fav-badge {
        background: #f59e0b;
        color: white;
        border-radius: 10px;
        padding: 0 6px;
        font-size: 11px;
        font-weight: 600;
        min-width: 16px;
        text-align: center;
        line-height: 16px;
      }

      /* ========== Body: main + favorites panel ========== */
      .taxchat-body {
        flex: 1;
        display: flex;
        overflow: hidden;
        min-height: 0;
      }
      .taxchat-main {
        flex: 1;
        display: flex;
        flex-direction: column;
        min-width: 0;
        transition: flex 0.3s ease;
      }

      /* ========== Favorites Panel ========== */
      .favorites-panel {
        width: 0;
        overflow: hidden;
        transition: width 0.3s ease;
        border-left: 0px solid rgba(0, 168, 255, 0.15);
        background: #fafbfc;
        display: flex;
        flex-direction: column;
      }
      .favorites-panel.open {
        width: 360px;
        border-left-width: 1px;
      }
      .favorites-panel__header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 12px 16px;
        font-size: 15px;
        font-weight: 600;
        color: var(--gray-700, #374151);
        border-bottom: 1px solid var(--gray-200, #e5e7eb);
        flex-shrink: 0;
      }
      .favorites-panel__close {
        background: none;
        border: none;
        cursor: pointer;
        font-size: 16px;
        color: var(--gray-400, #9ca3af);
        padding: 2px 6px;
        border-radius: 4px;
      }
      .favorites-panel__close:hover {
        background: var(--gray-100, #f3f4f6);
        color: var(--gray-600, #4b5563);
      }
      .favorites-panel__list {
        flex: 1;
        overflow-y: auto;
        padding: 8px;
      }
      .favorites-empty {
        text-align: center;
        color: var(--gray-400, #9ca3af);
        font-size: 13px;
        padding: 32px 16px;
      }
      .favorites-item {
        padding: 10px 12px;
        border-radius: 8px;
        cursor: pointer;
        border: 1px solid transparent;
        margin-bottom: 4px;
        transition: all 0.15s;
      }
      .favorites-item:hover {
        background: white;
        border-color: rgba(0, 168, 255, 0.2);
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.06);
      }
      .favorites-item__text {
        font-size: 13px;
        color: var(--gray-700, #374151);
        line-height: 1.5;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
      }
      .favorites-item__meta {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 6px;
        font-size: 11px;
        color: var(--gray-400, #9ca3af);
      }
      .favorites-item__remove {
        background: none;
        border: none;
        cursor: pointer;
        font-size: 12px;
        color: var(--gray-300, #d1d5db);
        padding: 0 4px;
        border-radius: 3px;
      }
      .favorites-item__remove:hover {
        color: #ef4444;
        background: #fef2f2;
      }

      /* ========== Panel Tabs ========== */
      .panel-tabs {
        display: flex;
        gap: 2px;
      }
      .panel-tab {
        background: none;
        border: none;
        padding: 6px 12px;
        font-size: 13px;
        font-weight: 500;
        color: var(--gray-400, #9ca3af);
        cursor: pointer;
        border-radius: 6px;
        transition: all 0.15s;
        display: flex;
        align-items: center;
        gap: 4px;
      }
      .panel-tab:hover {
        color: var(--gray-600, #4b5563);
        background: var(--gray-100, #f3f4f6);
      }
      .panel-tab.active {
        color: #1a73e8;
        background: rgba(26, 115, 232, 0.08);
      }
      .panel-tab__badge {
        background: #1a73e8;
        color: white;
        font-size: 10px;
        padding: 1px 5px;
        border-radius: 8px;
        font-weight: 600;
        min-width: 16px;
        text-align: center;
      }

      /* ========== Notification Items ========== */
      .notif-item {
        display: flex;
        gap: 10px;
        padding: 10px 12px;
        border-radius: 8px;
        margin-bottom: 4px;
        transition: all 0.15s;
        align-items: flex-start;
      }
      .notif-item:hover {
        background: white;
        box-shadow: 0 1px 4px rgba(0, 0, 0, 0.06);
      }
      .notif-item__icon {
        font-size: 18px;
        flex-shrink: 0;
        margin-top: 1px;
      }
      .notif-item__body {
        flex: 1;
        min-width: 0;
      }
      .notif-item__text {
        font-size: 13px;
        color: var(--gray-700, #374151);
        line-height: 1.5;
        word-break: break-all;
      }
      .notif-item__time {
        font-size: 11px;
        color: var(--gray-400, #9ca3af);
        margin-top: 4px;
      }
      .notif-item__remove {
        background: none;
        border: none;
        cursor: pointer;
        font-size: 12px;
        color: var(--gray-300, #d1d5db);
        padding: 0 4px;
        border-radius: 3px;
        flex-shrink: 0;
        opacity: 0;
        transition: opacity 0.15s;
      }
      .notif-item:hover .notif-item__remove {
        opacity: 1;
      }
      .notif-item__remove:hover {
        color: #ef4444;
        background: #fef2f2;
      }
      .notif-clear-btn {
        background: none;
        border: 1px solid var(--gray-200, #e5e7eb);
        padding: 4px 12px;
        font-size: 12px;
        color: var(--gray-500, #6b7280);
        border-radius: 6px;
        cursor: pointer;
        transition: all 0.15s;
      }
      .notif-clear-btn:hover {
        background: var(--gray-50, #f9fafb);
        color: var(--gray-700, #374151);
      }

      /* ========== Custom Skill Items ========== */
      .skill-item { display: flex; gap: 10px; padding: 10px 12px; border-radius: 8px; margin-bottom: 4px; align-items: center; transition: all 0.15s; }
      .skill-item:hover { background: white; box-shadow: 0 1px 4px rgba(0, 0, 0, 0.06); }
      .skill-item__emoji { font-size: 22px; flex-shrink: 0; }
      .skill-item__body { flex: 1; min-width: 0; }
      .skill-item__name { font-size: 13px; font-weight: 600; color: var(--gray-700, #374151); }
      .skill-item__desc { font-size: 11px; color: var(--gray-400, #9ca3af); margin-top: 2px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
      .skill-item__actions { display: flex; gap: 2px; flex-shrink: 0; }
      .skill-item__btn { background: none; border: none; cursor: pointer; font-size: 13px; padding: 3px 6px; border-radius: 4px; opacity: 0.5; transition: opacity 0.15s, background 0.15s; }
      .skill-item__btn:hover { background: var(--gray-100, #f3f4f6); opacity: 1; }
      .skill-item__btn.pinned { color: #1a73e8; opacity: 1; }
      .skill-item--custom { background: #fafbfc; border: 1px solid #eef0f2; }
      .skill-item--custom:hover { background: white; border-color: #dde1e5; box-shadow: 0 1px 4px rgba(0, 0, 0, 0.06); }
      .skill-item--builtin { background: linear-gradient(135deg, rgba(0,168,255,0.05), rgba(0,168,255,0.02)); border: 1px solid rgba(0,168,255,0.12); border-radius: 8px; }
      .skill-item--builtin:hover { background: linear-gradient(135deg, rgba(0,168,255,0.10), rgba(0,168,255,0.04)); box-shadow: none; }
      .skill-builtin-badge { font-size: 10px; color: #1e88e5; background: rgba(30,136,229,0.10); padding: 1px 6px; border-radius: 8px; margin-left: 6px; font-weight: 500; vertical-align: middle; }
      .skill-section-header { display: flex; align-items: center; gap: 6px; padding: 8px 12px 4px; cursor: pointer; user-select: none; }
      .skill-section-header:hover { background: rgba(0,0,0,0.02); border-radius: 6px; }
      .skill-section-arrow { font-size: 12px; color: #9ca3af; transition: transform 0.2s; display: inline-block; }
      .skill-section-arrow.collapsed { transform: rotate(-90deg); }
      .skill-section-count { font-size: 10px; color: #b0b7c0; background: #f0f2f4; padding: 0 6px; border-radius: 8px; line-height: 18px; }
      .sort-bar { display: flex; align-items: center; gap: 4px; padding: 4px 12px 6px; }
      .sort-bar__label { font-size: 11px; color: #9ca3af; margin-right: 2px; }
      .sort-bar__btn { font-size: 11px; padding: 2px 10px; border: 1px solid #e5e7eb; border-radius: 10px; background: #fff; color: #6b7280; cursor: pointer; transition: all 0.15s; }
      .sort-bar__btn:hover { border-color: #a8d4f5; color: #1a73e8; }
      .sort-bar__btn.active { background: #e8f4fd; border-color: #90caf9; color: #1a73e8; font-weight: 600; }
      .skill-section-label { font-size: 11px; font-weight: 600; color: #9ca3af; text-transform: uppercase; letter-spacing: 1px; padding: 8px 0 4px; }
      .skill-add-row { display: flex; gap: 6px; margin-bottom: 8px; }
      .skill-add-btn { flex: 1; padding: 10px; border: 1px dashed var(--gray-300, #d1d5db); border-radius: 8px; background: none; cursor: pointer; color: var(--gray-500, #6b7280); font-size: 13px; transition: all 0.15s; }
      .skill-add-btn:hover { border-color: #1a73e8; color: #1a73e8; background: rgba(26, 115, 232, 0.04); }

      /* ========== Skill Editor Modal ========== */
      .skill-editor-overlay { position: fixed; inset: 0; background: rgba(0, 0, 0, 0.4); z-index: 1000; display: flex; align-items: center; justify-content: center; }
      .skill-editor { background: white; border-radius: 12px; width: 640px; max-width: 90vw; max-height: 80vh; overflow-y: auto; padding: 20px; box-shadow: 0 8px 30px rgba(0, 0, 0, 0.15); }
      .skill-editor h3 { margin: 0 0 16px; font-size: 16px; }
      .skill-editor label { display: block; font-size: 12px; font-weight: 600; color: var(--gray-600, #4b5563); margin-bottom: 4px; margin-top: 12px; }
      .skill-editor label:first-of-type { margin-top: 0; }
      .skill-editor input, .skill-editor textarea { width: 100%; padding: 8px 10px; border: 1px solid var(--gray-200, #e5e7eb); border-radius: 6px; font-size: 13px; box-sizing: border-box; }
      .skill-editor textarea { min-height: 200px; resize: vertical; font-family: inherit; }
      .skill-editor__actions { display: flex; gap: 8px; justify-content: flex-end; margin-top: 16px; }
      .skill-editor__actions button { padding: 6px 16px; border-radius: 6px; font-size: 13px; cursor: pointer; }
      .skill-editor__cancel { background: none; border: 1px solid var(--gray-200, #e5e7eb); color: var(--gray-600, #4b5563); }
      .skill-editor__cancel:hover { background: var(--gray-50, #f9fafb); }
      .skill-editor__save { background: #1a73e8; border: none; color: white; font-weight: 600; }
      .skill-editor__save:hover:not(:disabled) { background: #1557b0; }
      .skill-editor__save:disabled { opacity: 0.5; cursor: not-allowed; }

      /* ========== Favorited message bubble ========== */
      .message-bubble.assistant.favorited {
        background: #fffde7;
        border-color: rgba(245, 158, 11, 0.25);
        box-shadow: 0 2px 8px rgba(245, 158, 11, 0.1);
      }
      .message-action-btn.fav-active {
        color: #f59e0b;
      }

      /* ========== Chat Area ========== */
      .taxchat-messages {
        flex: 1;
        overflow-y: auto;
        padding: 20px;
        display: flex;
        flex-direction: column;
        gap: 12px;
        background: linear-gradient(180deg, rgba(227, 242, 253, 0.3) 0%, rgba(255, 255, 255, 0.5) 100%);
      }

      .taxchat-messages::-webkit-scrollbar {
        width: 6px;
      }

      .taxchat-messages::-webkit-scrollbar-track {
        background: transparent;
      }

      .taxchat-messages::-webkit-scrollbar-thumb {
        background: #d1d5db;
        border-radius: 3px;
      }

      .taxchat-messages::-webkit-scrollbar-thumb:hover {
        background: #9ca3af;
      }

      .message-group {
        display: flex;
        flex-direction: column;
        gap: 4px;
        margin-bottom: 8px;
      }

      .message-item {
        display: flex;
        gap: 8px;
        align-items: flex-end;
      }

      .message-item.user {
        justify-content: flex-end;
      }

      .message-avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        flex-shrink: 0;
      }

      .message-avatar.assistant {
        background: none;
        border-radius: 0;
        padding: 0;
        box-shadow: none;
      }
      .message-avatar.assistant img {
        width: 100%;
        height: 100%;
        object-fit: contain;
      }

      .message-avatar.user {
        background: linear-gradient(135deg, #10b981, #059669);
        color: white;
        box-shadow: 0 2px 4px rgba(16, 185, 129, 0.3);
      }

      .message-bubble {
        max-width: 70%;
        word-wrap: break-word;
        padding: 14px 18px;
        border-radius: 20px;
        line-height: 1.6;
        font-size: 14px;
      }

      .message-bubble.assistant {
        background: white;
        color: var(--gray-800);
        border: 1px solid rgba(0, 168, 255, 0.15);
        box-shadow: 0 2px 8px rgba(0, 168, 255, 0.08);
        white-space: normal;
      }

      /* ========== Markdown Body in Assistant Messages ========== */
      .markdown-body p {
        margin: 0.4em 0;
        line-height: 1.6;
      }
      .markdown-body p:first-child { margin-top: 0; }
      .markdown-body p:last-child { margin-bottom: 0; }

      .markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4 {
        margin: 0.8em 0 0.4em;
        font-weight: 700;
        line-height: 1.3;
        color: #1a1a2e;
      }
      .markdown-body h1 { font-size: 1.3em; }
      .markdown-body h2 { font-size: 1.15em; }
      .markdown-body h3 { font-size: 1.05em; }
      .markdown-body h4 { font-size: 1em; }
      .markdown-body h1:first-child,
      .markdown-body h2:first-child,
      .markdown-body h3:first-child { margin-top: 0; }

      .markdown-body strong { font-weight: 700; }
      .markdown-body em { font-style: italic; }
      .markdown-body del { text-decoration: line-through; color: #999; }

      .markdown-body ul, .markdown-body ol {
        margin: 0.4em 0;
        padding-left: 1.6em;
      }
      .markdown-body li {
        margin: 0.2em 0;
        line-height: 1.5;
      }
      .markdown-body li > ul, .markdown-body li > ol {
        margin: 0.1em 0;
      }

      .markdown-body hr {
        border: none;
        border-top: 1px solid rgba(0, 168, 255, 0.15);
        margin: 0.8em 0;
      }

      .markdown-body blockquote {
        margin: 0.5em 0;
        padding: 0.4em 0.8em;
        border-left: 3px solid #00A8FF;
        background: rgba(0, 168, 255, 0.04);
        color: #555;
      }
      .markdown-body blockquote p { margin: 0.2em 0; }

      .markdown-body code {
        font-family: "Cascadia Code", "Fira Code", Consolas, monospace;
        font-size: 0.88em;
        background: rgba(0, 168, 255, 0.06);
        border: 1px solid rgba(0, 168, 255, 0.1);
        border-radius: 4px;
        padding: 0.15em 0.4em;
      }
      .markdown-body pre {
        margin: 0.5em 0;
        padding: 0.8em 1em;
        background: #f6f8fa;
        border: 1px solid #e1e4e8;
        border-radius: 8px;
        overflow-x: auto;
      }
      .markdown-body pre code {
        background: none;
        border: none;
        padding: 0;
        font-size: 0.85em;
        line-height: 1.5;
      }

      /* Table Styles */
      .markdown-body table {
        width: 100%;
        border-collapse: collapse;
        margin: 0.6em 0;
        font-size: 0.92em;
        border-radius: 8px;
        overflow: hidden;
        border: 1px solid #e0e7ef;
      }
      .markdown-body thead {
        background: linear-gradient(135deg, #f0f7ff, #e8f2ff);
      }
      .markdown-body th {
        padding: 10px 14px;
        text-align: left;
        font-weight: 600;
        color: #1a3a5c;
        border-bottom: 2px solid #c8daf0;
        white-space: nowrap;
      }
      .markdown-body td {
        padding: 8px 14px;
        border-bottom: 1px solid #eef2f7;
        color: #333;
        line-height: 1.5;
      }
      .markdown-body tbody tr:last-child td {
        border-bottom: none;
      }
      .markdown-body tbody tr:hover {
        background: rgba(0, 168, 255, 0.03);
      }
      .markdown-body tbody tr:nth-child(even) {
        background: #fafbfd;
      }
      .markdown-body tbody tr:nth-child(even):hover {
        background: rgba(0, 168, 255, 0.05);
      }

      .markdown-body a {
        color: #0088CC;
        text-decoration: underline;
        cursor: pointer;
      }
      .markdown-body a:hover {
        text-decoration: underline;
        color: #006699;
      }

      .message-bubble.user {
        background: linear-gradient(135deg, #00A8FF, #0088CC);
        color: white;
        box-shadow: 0 3px 8px rgba(0, 168, 255, 0.3);
        width: fit-content;
        max-width: 100%;
        white-space: pre-wrap;
      }

      .message-actions {
        display: flex;
        gap: 4px;
        margin-left: 40px; /* align with bubble (avatar width + gap) */
        margin-top: 2px;
        opacity: 0;
        transition: opacity 0.15s;
      }
      .message-group:hover .message-actions {
        opacity: 1;
      }
      .message-action-btn {
        background: none;
        border: 1px solid transparent;
        border-radius: 6px;
        padding: 3px 8px;
        cursor: pointer;
        display: flex;
        align-items: center;
        gap: 4px;
        font-size: 12px;
        color: var(--gray-400);
        transition: all 0.15s;
      }
      .message-action-btn:hover {
        color: var(--gray-600, #4b5563);
        background: var(--gray-50, #f9fafb);
        border-color: var(--gray-200, #e5e7eb);
      }
      .message-action-btn .action-icon {
        font-size: 13px;
        line-height: 1;
      }
      .message-action-btn.copied {
        color: #10b981;
      }

      .message-time {
        font-size: 12px;
        color: var(--gray-400);
        text-align: center;
        margin: 4px 0;
      }

      .thinking-indicator {
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .thinking-label {
        font-size: 13px;
        color: #9ca3af;
      }
      .loading-dots {
        display: flex;
        gap: 4px;
        align-items: center;
      }

      .loading-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: #9ca3af;
        animation: bounce 1.4s infinite;
      }

      .loading-dot:nth-child(2) {
        animation-delay: 0.2s;
      }

      .loading-dot:nth-child(3) {
        animation-delay: 0.4s;
      }

      @keyframes bounce {
        0%, 80%, 100% {
          transform: translateY(0);
          opacity: 0.6;
        }
        40% {
          transform: translateY(-8px);
          opacity: 1;
        }
      }

      /* ========== Empty State ========== */
      .empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        gap: 20px;
        color: var(--gray-400);
      }

      .empty-state__icon {
        opacity: 0.9;
      }
      .empty-state__icon img {
        border-radius: 0;
      }

      .empty-state__text {
        font-size: 16px;
        color: var(--gray-500);
        text-align: center;
      }

      /* ========== Quick Actions ========== */
      .taxchat-quick-actions {
        display: flex;
        gap: 8px;
        flex-wrap: nowrap;
        overflow-x: auto;
        -webkit-overflow-scrolling: touch;
        scrollbar-width: thin;
        padding-bottom: 2px;
      }
      .taxchat-quick-actions::-webkit-scrollbar { height: 3px; }
      .taxchat-quick-actions::-webkit-scrollbar-thumb { background: var(--gray-200, #e5e7eb); border-radius: 3px; }

      .quick-action-btn {
        display: inline-flex;
        align-items: center;
        gap: 6px;
        padding: 6px 14px;
        border: 1px solid rgba(0, 168, 255, 0.2);
        border-radius: 20px;
        background: rgba(0, 168, 255, 0.04);
        color: #555;
        font-size: 13px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
        white-space: nowrap;
      }

      .quick-action-btn:hover:not(:disabled) {
        background: rgba(0, 168, 255, 0.12);
        border-color: rgba(0, 168, 255, 0.35);
        color: #0088CC;
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(0, 168, 255, 0.15);
      }

      .quick-action-btn:active:not(:disabled) {
        transform: translateY(0);
      }

      .quick-action-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .quick-action-btn.custom {
        background: rgba(255, 193, 7, 0.10);
        border-color: rgba(255, 170, 0, 0.25);
      }
      .quick-action-btn.custom:hover:not(:disabled) {
        background: rgba(255, 193, 7, 0.20);
        border-color: rgba(255, 170, 0, 0.45);
        color: #b37400;
        box-shadow: 0 2px 8px rgba(255, 170, 0, 0.15);
      }

      .quick-action-btn .qa-icon {
        font-size: 15px;
        line-height: 1;
      }

      /* ========== Input Area ========== */
      .taxchat-input-area {
        padding: 20px 24px;
        background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-top: 1px solid rgba(0, 168, 255, 0.1);
        box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.05);
        display: flex;
        flex-direction: column;
        gap: 12px;
        flex-shrink: 0;
      }

      .taxchat-input-container {
        flex: 1;
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        align-items: flex-end;
        position: relative;
        border-radius: 12px;
        transition: all 0.2s;
      }

      .taxchat-input-container.drag-over {
        border: 2px dashed #00A8FF;
        background: rgba(0, 168, 255, 0.05);
      }

      .drag-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 168, 255, 0.1);
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        pointer-events: none;
      }

      .drag-text {
        font-size: 16px;
        font-weight: 600;
        color: #00A8FF;
      }

      /* Skill prompt bubble */
      .skill-prompt-bubble { width: 100%; display: flex; align-items: center; gap: 6px; padding: 6px 10px; background: linear-gradient(135deg, rgba(26,115,232,0.08), rgba(0,168,255,0.06)); border: 1px solid rgba(26,115,232,0.2); border-radius: 8px; font-size: 12px; color: var(--gray-600, #4b5563); }
      .skill-prompt-bubble__emoji { font-size: 16px; flex-shrink: 0; }
      .skill-prompt-bubble__text { flex: 1; min-width: 0; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; font-weight: 500; }
      .skill-prompt-bubble__close { background: none; border: none; cursor: pointer; color: var(--gray-400, #9ca3af); font-size: 13px; padding: 0 2px; line-height: 1; flex-shrink: 0; }
      .skill-prompt-bubble__close:hover { color: var(--gray-600, #4b5563); }

      .taxchat-input {
        flex: 1;
        padding: 12px 16px;
        border: 2px solid rgba(0, 168, 255, 0.2);
        border-radius: 12px;
        font-size: 14px;
        font-family: inherit;
        resize: none;
        min-height: 21px;
        max-height: 63px;
        line-height: 1.5;
        overflow-y: auto;
        transition: border-color 0.2s, box-shadow 0.2s;
        background: white;
      }

      .taxchat-input:focus {
        outline: none;
        border-color: #00A8FF;
        box-shadow: 0 0 0 4px rgba(0, 168, 255, 0.1);
      }

      .taxchat-input:disabled {
        background: #f3f4f6;
        color: #9ca3af;
        cursor: not-allowed;
      }

      /* ========== Attachments ========== */
      .attachments-list {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        padding: 0 4px;
      }

      .attachment-item {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 6px 12px;
        background: #f3f4f6;
        border: 1px solid #e5e7eb;
        border-radius: 6px;
        font-size: 13px;
        color: var(--gray-700);
        max-width: 200px;
      }

      .attachment-icon {
        font-size: 14px;
      }

      .attachment-name {
        flex: 1;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .attachment-size {
        font-size: 12px;
        color: var(--gray-500);
        white-space: nowrap;
      }

      .attachment-remove {
        background: none;
        border: none;
        color: var(--gray-500);
        cursor: pointer;
        font-size: 14px;
        padding: 0 4px;
        transition: color 0.2s;
      }

      .attachment-remove:hover {
        color: #ef4444;
      }

      /* ========== Knowledge Refs Capsules ========== */
      .knowledge-refs-list {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        padding: 6px 0;
      }
      .knowledge-ref-item {
        display: flex;
        align-items: center;
        gap: 6px;
        padding: 5px 10px;
        background: rgba(0, 168, 255, 0.08);
        border: 1px solid rgba(0, 168, 255, 0.25);
        border-radius: 6px;
        font-size: 13px;
        color: #1e88e5;
        max-width: 220px;
      }
      .kr-icon { font-size: 13px; }
      .kr-name {
        flex: 1;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .kr-remove {
        background: none;
        border: none;
        color: #93c5fd;
        cursor: pointer;
        font-size: 13px;
        padding: 0 2px;
        transition: color 0.2s;
      }
      .kr-remove:hover { color: #ef4444; }

      /* ========== Knowledge Panel (standalone) ========== */
      .knowledge-panel {
        width: 0;
        overflow: hidden;
        transition: width 0.3s ease;
        border-left: 0px solid rgba(0, 168, 255, 0.15);
        background: #fafbfc;
        display: flex;
        flex-direction: column;
      }
      .knowledge-panel.open {
        width: 540px;
        border-left-width: 1px;
      }
      .knowledge-panel__header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 4px;
        border-bottom: 1px solid #e5e7eb;
        background: linear-gradient(135deg, rgba(0,168,255,0.06), rgba(0,168,255,0.02));
      }
      .knowledge-panel__body {
        flex: 1;
        overflow-y: auto;
        position: relative;
      }
      .knowledge-empty {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 40px 20px;
        text-align: center;
      }
      .knowledge-folder-bar {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        border-bottom: 1px solid #e5e7eb;
        background: #f9fafb;
      }
      .knowledge-folder-path {
        flex: 1;
        font-size: 12px;
        color: #6b7280;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .knowledge-folder-change {
        background: none;
        border: 1px solid #d1d5db;
        border-radius: 4px;
        padding: 2px 8px;
        font-size: 11px;
        color: #6b7280;
        cursor: pointer;
        transition: all 0.2s;
      }
      .knowledge-folder-change:hover {
        background: #e5e7eb;
        color: #374151;
      }
      .knowledge-drop-zone {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 168, 255, 0.08);
        border: 2px dashed #00A8FF;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 5;
        border-radius: 4px;
        pointer-events: none;
      }
      .knowledge-drop-text {
        font-size: 14px;
        font-weight: 600;
        color: #00A8FF;
      }
      .knowledge-file-item {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 8px 12px;
        border-bottom: 1px solid #f3f4f6;
        transition: background 0.15s;
      }
      .knowledge-file-item:hover {
        background: #f0f7ff;
      }
      .knowledge-file-icon {
        font-size: 16px;
        flex-shrink: 0;
      }
      .knowledge-file-name {
        flex: 1;
        font-size: 13px;
        color: #374151;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .knowledge-file-size {
        font-size: 11px;
        color: #9ca3af;
        white-space: nowrap;
      }
      .knowledge-file-btn {
        background: none;
        border: 1px solid #d1d5db;
        border-radius: 4px;
        padding: 2px 8px;
        font-size: 11px;
        cursor: pointer;
        transition: all 0.2s;
      }
      .knowledge-file-btn.ref {
        color: #1e88e5;
        border-color: rgba(0, 168, 255, 0.3);
      }
      .knowledge-file-btn.ref:hover {
        background: rgba(0, 168, 255, 0.1);
      }
      .knowledge-file-btn.del {
        color: #9ca3af;
        border-color: transparent;
      }
      .knowledge-file-btn.del:hover {
        color: #ef4444;
        background: rgba(239, 68, 68, 0.05);
      }

      .taxchat-input-actions {
        display: flex;
        gap: 12px;
        align-items: center;
      }

      /* ========== Buttons ========== */
      .taxchat-button {
        padding: 12px 20px;
        border: none;
        border-radius: 12px;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        flex-shrink: 0;
        height: 44px;
      }

      .taxchat-button.primary {
        background: linear-gradient(135deg, #00A8FF, #0088CC);
        color: white;
        box-shadow: 0 3px 8px rgba(0, 168, 255, 0.3);
      }

      .taxchat-button.primary:hover:not(:disabled) {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(0, 168, 255, 0.4);
      }

      .taxchat-button.primary:active:not(:disabled) {
        transform: translateY(0);
      }

      .taxchat-button.secondary {
        background: rgba(0, 168, 255, 0.08);
        color: var(--gray-600);
        border: 1px solid rgba(0, 168, 255, 0.15);
      }

      .taxchat-button.secondary:hover:not(:disabled) {
        background: rgba(0, 168, 255, 0.15);
        color: var(--primary-color);
      }

      .taxchat-button.icon-only {
        width: 44px;
        height: 44px;
        padding: 0;
        border-radius: 50%;
        background: rgba(0, 168, 255, 0.08);
        color: var(--gray-500);
        border: 1px solid rgba(0, 168, 255, 0.15);
        transition: all 0.3s ease;
      }

      .taxchat-button.icon-only:hover:not(:disabled) {
        background: rgba(0, 168, 255, 0.15);
        color: var(--primary-color);
        border-color: rgba(0, 168, 255, 0.3);
        transform: rotate(180deg);
      }

      .taxchat-button.icon-only:active:not(:disabled) {
        transform: rotate(180deg) scale(0.95);
      }

      .taxchat-button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .button-icon {
        font-size: 16px;
      }

      /* ========== Loading State ========== */
      .loading-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        gap: 20px;
      }

      .spinner {
        width: 48px;
        height: 48px;
        border: 4px solid #e5e7eb;
        border-top-color: #2563eb;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .loading-text {
        font-size: 16px;
        color: var(--gray-600);
      }

      .loading-subtext {
        font-size: 12px;
        color: var(--gray-400);
      }

      /* ========== Message Attachments ========== */
      .message-content {
        display: flex;
        flex-direction: column;
        gap: 8px;
        max-width: 70%;
      }

      .message-content.user {
        align-items: flex-end;
        width: fit-content;
        margin-left: auto;
      }

      .message-attachments {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
      }

      .attachment-thumbnail {
        cursor: pointer;
        border-radius: 8px;
        overflow: hidden;
        transition: transform 0.2s, box-shadow 0.2s;
        background: white;
        border: 1px solid #e5e7eb;
      }

      .attachment-thumbnail:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
      }

      .thumbnail-image {
        width: 120px;
        height: 120px;
        object-fit: cover;
        display: block;
      }

      .thumbnail-file {
        width: 120px;
        height: 120px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 8px;
        background: #f9fafb;
        padding: 12px;
      }

      .thumbnail-file .file-icon {
        font-size: 32px;
      }

      .thumbnail-file .file-name {
        font-size: 12px;
        color: var(--gray-700);
        text-align: center;
        word-break: break-word;
        overflow: hidden;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
      }

      /* ========== Preview Modal ========== */
      .preview-modal {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        padding: 20px;
        animation: fadeIn 0.2s;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      .preview-content {
        position: relative;
        max-width: 90vw;
        max-height: 90vh;
        background: white;
        border-radius: 12px;
        padding: 20px;
        animation: scaleIn 0.2s;
      }

      @keyframes scaleIn {
        from {
          transform: scale(0.9);
          opacity: 0;
        }
        to {
          transform: scale(1);
          opacity: 1;
        }
      }

      .preview-close {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(0, 0, 0, 0.5);
        color: white;
        border: none;
        border-radius: 50%;
        width: 32px;
        height: 32px;
        font-size: 18px;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.2s;
        z-index: 1;
      }

      .preview-close:hover {
        background: rgba(0, 0, 0, 0.7);
      }

      .preview-image {
        max-width: 85vw;
        max-height: 85vh;
        object-fit: contain;
        display: block;
        border-radius: 8px;
      }

      .preview-file-info {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 16px;
        padding: 40px;
        min-width: 300px;
      }

      .preview-file-icon {
        font-size: 64px;
      }

      .preview-file-name {
        font-size: 18px;
        font-weight: 600;
        color: var(--gray-800);
        text-align: center;
        word-break: break-word;
      }

      .preview-file-size {
        font-size: 14px;
        color: var(--gray-600);
      }

      .preview-file-type {
        font-size: 12px;
        color: var(--gray-500);
        background: #f3f4f6;
        padding: 4px 12px;
        border-radius: 12px;
      }

      /* ========== About Modal ========== */
      .about-modal {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        padding: 20px;
        animation: fadeIn 0.2s;
      }

      .about-content {
        position: relative;
        background: white;
        border-radius: 20px;
        padding: 40px 36px 28px;
        width: 360px;
        max-width: 90vw;
        text-align: center;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
        animation: scaleIn 0.2s;
      }

      .about-close {
        position: absolute;
        top: 12px;
        right: 12px;
        background: none;
        border: none;
        cursor: pointer;
        font-size: 18px;
        color: var(--gray-400);
        width: 32px;
        height: 32px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s;
      }
      .about-close:hover {
        background: var(--gray-100);
        color: var(--gray-600);
      }

      .about-logo {
        width: 100px;
        height: 100px;
        margin: 0 auto 16px;
      }
      .about-logo img {
        width: 100%;
        height: 100%;
        object-fit: contain;
      }

      .about-title {
        font-size: 24px;
        font-weight: 700;
        color: var(--gray-800);
        margin-bottom: 12px;
        letter-spacing: 1px;
      }

      .about-desc {
        font-size: 14px;
        color: var(--gray-500);
        line-height: 1.6;
        margin-bottom: 16px;
      }

      .about-features {
        display: flex;
        flex-direction: column;
        gap: 8px;
        margin-bottom: 20px;
        text-align: left;
      }

      .about-feature-item {
        font-size: 13px;
        color: var(--gray-600);
        padding: 6px 12px;
        background: var(--gray-50);
        border-radius: 8px;
        border: 1px solid var(--gray-100);
      }

      .about-divider {
        height: 1px;
        background: var(--gray-200);
        margin: 0 0 16px;
      }

      .about-actions {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-bottom: 16px;
      }
      .about-action-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        padding: 11px 24px;
        border: 1px solid rgba(0, 168, 255, 0.2);
        border-radius: 12px;
        background: rgba(0, 168, 255, 0.05);
        color: #00A8FF;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
        width: 100%;
      }
      .about-action-btn:hover {
        background: rgba(0, 168, 255, 0.1);
        border-color: rgba(0, 168, 255, 0.3);
        box-shadow: 0 2px 8px rgba(0, 168, 255, 0.15);
      }

      .about-confirm-hint {
        font-size: 13px;
        color: var(--gray-500);
        margin-bottom: 12px;
        line-height: 1.5;
      }

      .about-confirm-actions {
        display: flex;
        gap: 10px;
        justify-content: center;
      }

      .about-confirm-btn {
        flex: 1;
        padding: 9px 20px;
        border-radius: 10px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s;
        border: 1px solid;
      }
      .about-confirm-btn.confirm {
        background: #ef4444;
        color: white;
        border-color: #ef4444;
      }
      .about-confirm-btn.confirm:hover {
        background: #dc2626;
        border-color: #dc2626;
      }
      .about-confirm-btn.cancel {
        background: white;
        color: var(--gray-600);
        border-color: var(--gray-300);
      }
      .about-confirm-btn.cancel:hover {
        background: var(--gray-50);
        border-color: var(--gray-400);
      }

      .about-version {
        margin-top: 16px;
        font-size: 12px;
        color: var(--gray-400);
      }
      .about-folder-row {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        margin-top: 6px;
      }
      .about-folder-path {
        font-size: 12px;
        color: var(--gray-500);
        word-break: break-all;
        text-align: center;
        max-width: 250px;
        line-height: 1.4;
      }
      .about-folder-refresh {
        flex-shrink: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        width: 26px;
        height: 26px;
        border: 1px solid var(--gray-200);
        border-radius: 50%;
        background: white;
        color: var(--gray-500);
        cursor: pointer;
        transition: all 0.15s;
      }
      .about-folder-refresh:hover {
        color: #2196F3;
        border-color: #2196F3;
      }
      .about-folder-refresh:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }
      .about-folder-status {
        margin-top: 4px;
        font-size: 12px;
        color: #2196F3;
        text-align: center;
      }
      .about-action-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }

      /* ========== Toast Notification ========== */
      .taxchat-toast {
        position: fixed;
        bottom: 80px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 12px 20px;
        background: linear-gradient(135deg, #1a73e8, #4285f4);
        color: white;
        border-radius: 12px;
        box-shadow: 0 6px 24px rgba(26, 115, 232, 0.35);
        z-index: 10000;
        animation: toast-slide-up 0.4s ease-out;
        max-width: 420px;
        font-size: 14px;
        line-height: 1.5;
      }
      .taxchat-toast__icon {
        font-size: 20px;
        flex-shrink: 0;
      }
      .taxchat-toast__text {
        flex: 1;
      }
      .taxchat-toast__close {
        background: none;
        border: none;
        color: rgba(255,255,255,0.7);
        font-size: 14px;
        cursor: pointer;
        padding: 2px 4px;
        flex-shrink: 0;
      }
      .taxchat-toast__close:hover {
        color: white;
      }
      @keyframes toast-slide-up {
        from { opacity: 0; transform: translateX(-50%) translateY(20px); }
        to { opacity: 1; transform: translateX(-50%) translateY(0); }
      }

      /* ========== QuickStart Guide ========== */
      .quickstart-overlay {
        position: fixed; inset: 0; z-index: 1001;
        background: rgba(0,0,0,0.6);
        display: flex; align-items: center; justify-content: center;
        animation: qs-fade-in 0.3s ease;
      }
      @keyframes qs-fade-in {
        from { opacity: 0; }
        to { opacity: 1; }
      }
      .quickstart-container {
        width: 820px; max-width: 95vw; max-height: 90vh;
        background: #fff; border-radius: 16px;
        overflow-y: auto; overflow-x: hidden;
        box-shadow: 0 24px 80px rgba(0,0,0,0.25);
        scrollbar-width: thin;
      }
      .quickstart-container::-webkit-scrollbar { width: 6px; }
      .quickstart-container::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 3px; }
      /* Welcome hero */
      .qs-hero {
        text-align: center; padding: 48px 40px 32px;
        background: linear-gradient(135deg, #e0f2fe 0%, #f0f4ff 50%, #fef9c3 100%);
        border-radius: 16px 16px 0 0;
      }
      .qs-hero-logo { font-size: 64px; margin-bottom: 12px; }
      .qs-hero h1 { font-size: 28px; font-weight: 700; color: #1e293b; margin: 0 0 8px; }
      .qs-hero p { font-size: 15px; color: #64748b; margin: 0 0 24px; line-height: 1.6; }
      .qs-scroll-hint {
        display: inline-flex; align-items: center; gap: 6px;
        font-size: 13px; color: #94a3b8;
        animation: qs-bounce 2s infinite;
      }
      @keyframes qs-bounce {
        0%,100% { transform: translateY(0); }
        50% { transform: translateY(4px); }
      }
      /* Sections */
      .qs-section {
        padding: 32px 40px;
        border-top: 1px solid #f1f5f9;
      }
      .qs-section-num {
        display: inline-flex; align-items: center; justify-content: center;
        width: 28px; height: 28px; border-radius: 50%;
        background: linear-gradient(135deg, #00A8FF, #0070CC);
        color: #fff; font-size: 14px; font-weight: 700;
        margin-right: 10px; flex-shrink: 0;
      }
      .qs-section-title {
        font-size: 20px; font-weight: 700; color: #1e293b;
        display: flex; align-items: center; margin: 0 0 8px;
      }
      .qs-section-desc {
        font-size: 14px; color: #64748b; line-height: 1.7; margin: 0 0 20px;
      }
      /* Mockup frame */
      .qs-mockup {
        background: #f8fafc; border: 1px solid #e2e8f0;
        border-radius: 12px; padding: 16px; position: relative;
        overflow: hidden;
      }
      .qs-mockup-titlebar {
        display: flex; align-items: center; gap: 6px;
        margin-bottom: 12px; padding-bottom: 8px;
        border-bottom: 1px solid #e2e8f0;
      }
      .qs-dot { width: 10px; height: 10px; border-radius: 50%; }
      .qs-dot-r { background: #ef4444; }
      .qs-dot-y { background: #f59e0b; }
      .qs-dot-g { background: #22c55e; }
      .qs-mockup-title { font-size: 12px; color: #94a3b8; margin-left: 8px; }
      /* Chat mockup */
      .qs-chat-bubble {
        max-width: 75%; padding: 10px 14px; border-radius: 12px;
        font-size: 13px; line-height: 1.5; margin-bottom: 8px;
      }
      .qs-chat-user {
        background: linear-gradient(135deg, #00A8FF, #0070CC);
        color: #fff; margin-left: auto; border-bottom-right-radius: 4px;
      }
      .qs-chat-ai {
        background: #fff; color: #334155; border: 1px solid #e2e8f0;
        border-bottom-left-radius: 4px;
      }
      .qs-chat-label {
        font-size: 11px; color: #94a3b8; margin-bottom: 4px;
      }
      /* Button mockups */
      .qs-btn-row {
        display: flex; flex-wrap: wrap; gap: 8px;
      }
      .qs-btn-mock {
        display: inline-flex; align-items: center; gap: 4px;
        padding: 6px 12px; border-radius: 8px; font-size: 12px;
        background: #fff; border: 1px solid #e2e8f0; color: #334155;
      }
      .qs-btn-mock-icon { font-size: 14px; }
      /* Highlight annotation */
      .qs-anno {
        position: absolute; display: flex; align-items: center; justify-content: center;
        width: 24px; height: 24px; border-radius: 50%;
        background: #ef4444; color: #fff; font-size: 11px; font-weight: 700;
        box-shadow: 0 2px 6px rgba(239,68,68,0.4);
        z-index: 2;
      }
      .qs-anno-text {
        font-size: 12px; color: #ef4444; font-weight: 600;
      }
      /* Panel mockup */
      .qs-panel-mock {
        background: #fff; border: 1px solid #e2e8f0; border-radius: 8px;
        padding: 10px; font-size: 12px;
      }
      .qs-panel-header {
        display: flex; gap: 8px; padding-bottom: 8px;
        border-bottom: 1px solid #f1f5f9; margin-bottom: 8px;
      }
      .qs-panel-tab { padding: 4px 10px; border-radius: 6px; font-size: 11px; cursor: default; }
      .qs-panel-tab-active { background: #00A8FF; color: #fff; }
      .qs-panel-tab-inactive { background: #f1f5f9; color: #64748b; }
      .qs-file-row {
        display: flex; align-items: center; gap: 8px;
        padding: 6px 4px; border-bottom: 1px solid #f8fafc;
      }
      .qs-file-icon { font-size: 16px; }
      .qs-file-name { flex: 1; font-size: 12px; color: #334155; }
      .qs-file-size { font-size: 11px; color: #94a3b8; }
      .qs-file-btn {
        font-size: 11px; padding: 2px 8px; border-radius: 4px;
        background: #eff6ff; color: #00A8FF; border: none;
      }
      /* Skill card mockup */
      .qs-skill-card {
        display: flex; align-items: center; gap: 10px;
        padding: 10px; background: #fff; border: 1px solid #e2e8f0;
        border-radius: 8px; margin-bottom: 6px;
      }
      .qs-skill-emoji { font-size: 20px; }
      .qs-skill-info { flex: 1; }
      .qs-skill-name { font-size: 13px; font-weight: 600; color: #1e293b; }
      .qs-skill-desc { font-size: 11px; color: #94a3b8; }
      .qs-skill-actions { display: flex; gap: 4px; }
      .qs-skill-action-btn {
        font-size: 11px; padding: 2px 6px; border-radius: 4px;
        background: #f1f5f9; color: #64748b; border: none;
      }
      /* Message actions mockup */
      .qs-msg-actions {
        display: inline-flex; gap: 2px; padding: 4px;
        background: #fff; border: 1px solid #e2e8f0;
        border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      }
      .qs-msg-action {
        padding: 4px 8px; border-radius: 4px; font-size: 11px;
        color: #64748b; background: transparent;
      }
      .qs-msg-action:hover { background: #f1f5f9; }
      /* Upload mockup */
      .qs-upload-zone {
        border: 2px dashed #cbd5e1; border-radius: 10px;
        padding: 20px; text-align: center; color: #94a3b8; font-size: 13px;
        background: #fafbfd;
      }
      .qs-attachment-row {
        display: flex; gap: 8px; margin-top: 10px;
      }
      .qs-attachment-thumb {
        width: 56px; height: 56px; border-radius: 8px;
        background: #e2e8f0; display: flex; align-items: center;
        justify-content: center; font-size: 20px; position: relative;
      }
      .qs-attachment-x {
        position: absolute; top: -4px; right: -4px;
        width: 16px; height: 16px; border-radius: 50%;
        background: #ef4444; color: #fff; font-size: 10px;
        display: flex; align-items: center; justify-content: center;
      }
      /* Footer */
      .qs-footer {
        padding: 24px 40px 32px; text-align: center;
        border-top: 1px solid #f1f5f9;
      }
      .qs-btn-start {
        display: inline-flex; align-items: center; gap: 8px;
        padding: 12px 36px; border: none; border-radius: 10px;
        background: linear-gradient(135deg, #00A8FF, #0070CC);
        color: #fff; font-size: 16px; font-weight: 600;
        cursor: pointer; transition: all 0.2s;
        box-shadow: 0 4px 16px rgba(0,168,255,0.3);
      }
      .qs-btn-start:hover {
        transform: translateY(-1px);
        box-shadow: 0 6px 20px rgba(0,168,255,0.4);
      }
      .qs-tip {
        font-size: 12px; color: #94a3b8; margin-top: 12px;
      }
      /* Layout helpers */
      .qs-flex { display: flex; }
      .qs-gap-12 { gap: 12px; }
      .qs-flex-1 { flex: 1; }
      .qs-relative { position: relative; }
    </style>
    <script type="module" crossorigin src="./taxchat.js"></script>
    <link rel="modulepreload" crossorigin href="./chunks/markdown-2HYSs03f.js">
  </head>
  <body>
    <div id="app"></div>
  </body>
</html>

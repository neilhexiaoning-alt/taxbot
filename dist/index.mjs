#!/usr/bin/env node
import "./pi-embedded-helpers-DIV_C5J8.mjs";
import { Dn as installUnhandledRejectionHandler, Hi as applyTemplate, Sn as monitorWebChannel, kn as waitForever, t as getReplyFromConfig } from "./reply-CReGWUt7.mjs";
import "./paths-DcBT4Q4r.mjs";
import "./agent-scope-BD88ooNs.mjs";
import { r as enableConsoleCapture } from "./subsystem-iSHcgawR.mjs";
import { b as toWhatsappJid, d as normalizeE164, n as assertWebChannel } from "./utils-D9-prTJL.mjs";
import { n as runExec, t as runCommandWithTimeout } from "./exec-BRaJtAm2.mjs";
import "./model-selection-DNDKru6x.mjs";
import "./github-copilot-token-CewhQpWC.mjs";
import "./boolean-B7lX4AU9.mjs";
import { r as normalizeEnv } from "./env-DE0tkFHW.mjs";
import { i as loadConfig } from "./config-B_uz17RB.mjs";
import "./manifest-registry-BADIO_87.mjs";
import "./plugins-DSII6JvY.mjs";
import { D as resolveSessionKey, E as deriveSessionKey, d as loadSessionStore, m as saveSessionStore } from "./sandbox-oRz8OYlY.mjs";
import "./image-Dsy38YsT.mjs";
import "./pi-model-discovery-B6X6meeT.mjs";
import { E as formatUncaughtError, c as describePortOwner, l as ensurePortAvailable, s as PortInUseError, u as handlePortError } from "./chrome-PKn2zNTL.mjs";
import "./skills-Cb4fWMT0.mjs";
import "./routes-2qU-Bliw.mjs";
import "./server-context-CAvvAxGZ.mjs";
import "./message-channel-Ls7G_LaM.mjs";
import "./logging-sIVJ3oF8.mjs";
import "./accounts-Da593ZbL.mjs";
import { o as resolveStorePath } from "./paths-D0n0xdZb.mjs";
import "./redact-DjVwGPIJ.mjs";
import "./tool-display-C07JRsU3.mjs";
import "./deliver-DeFlE7gj.mjs";
import "./dispatcher-CWBZae0H.mjs";
import "./manager-s7p2EtXX.mjs";
import "./sqlite-CG_dxLw3.mjs";
import "./warnings-DCJmPZde.mjs";
import "./channel-summary-CADwe6FA.mjs";
import "./client-DgdwkhIS.mjs";
import "./call-DrwxBANw.mjs";
import "./login-qr-BEDNHQPL.mjs";
import "./pairing-store-bEGBKxWn.mjs";
import "./links-DX7cRSHU.mjs";
import "./progress-BYrleoMX.mjs";
import "./pi-tools.policy-DvvMN9Ge.mjs";
import "./prompt-style-DXmBJpDK.mjs";
import "./pairing-labels-JtCdT618.mjs";
import "./control-service-tDwWDpUV.mjs";
import "./restart-sentinel-BSJCs5vQ.mjs";
import "./channel-selection-CFHdlQsS.mjs";
import { t as createDefaultDeps } from "./deps-C1EbislO.mjs";
import { l as ensureBinary, u as promptYesNo } from "./tailscale-4Z5W8e4e.mjs";
import { t as loadDotEnv } from "./dotenv-Ddu7lgmp.mjs";
import { t as isMainModule } from "./is-main-jZYdRGRI.mjs";
import { t as ensureOpenClawCliOnPath } from "./path-env-AOlAvuGZ.mjs";
import { t as assertSupportedRuntime } from "./runtime-guard-DFX3Ovni.mjs";
import "./ports-Co7xga5_.mjs";
import "./config-guard-BmSEam-L.mjs";
import "./logging-BTIZSnJm.mjs";
import "./note-COgvwFa3.mjs";
import "./clack-prompter-CiUsChTN.mjs";
import "./onboarding-81PdWYa6.mjs";
import "./onboard-skills-CJmeZwSj.mjs";
import "./github-copilot-auth-DLp_veWW.mjs";
import "./onboard-channels-B7Nzchqn.mjs";
import "./plugin-auto-enable-DtZr53tO.mjs";
import "./archive-7jXYzIVl.mjs";
import "./installs-ChQ-kMei.mjs";
import "./health-format-CQglK8Ez.mjs";
import "./update-runner-Dy5Zj6kW.mjs";
import "./auth-CKLbBArb.mjs";
import "./audit-DMnpd9wB.mjs";
import "./table-DWsrGl_1.mjs";
import "./skills-status-B4i4oPU3.mjs";
import "./service-DhHo4Mch.mjs";
import "./systemd-UR47hdt4.mjs";
import "./service-audit-Cvhsjyh8.mjs";
import "./node-service-CSOsuHIp.mjs";
import "./channels-status-issues-WMEemfar.mjs";
import "./status.update-DcPF_ckr.mjs";
import "./register.subclis-B8vxNXy3.mjs";
import "./gateway-rpc-B6MBjPcg.mjs";
import "./help-format-Va6KVo1b.mjs";
import "./agent-_6k7z_IP.mjs";
import "./plugin-registry-F6lXUqFD.mjs";
import "./configure-C1SagTxm.mjs";
import "./daemon-runtime-B-EHQzP_.mjs";
import "./systemd-linger-DSqFRbzY.mjs";
import "./widearea-dns-B2Uy-h8T.mjs";
import "./auth-health-DsWyh-I_.mjs";
import "./doctor-tgary4l1.mjs";
import "./hooks-status-DeeGK9W4.mjs";
import "./tui-DDeqszdv.mjs";
import "./channel-options-Dnw-dOSe.mjs";
import { n as buildProgram } from "./program-D4Epj_jg.mjs";
import process from "node:process";
import { fileURLToPath } from "node:url";

//#region src/index.ts
loadDotEnv({ quiet: true });
normalizeEnv();
ensureOpenClawCliOnPath();
enableConsoleCapture();
assertSupportedRuntime();
const program = buildProgram();
if (isMainModule({ currentFile: fileURLToPath(import.meta.url) })) {
	installUnhandledRejectionHandler();
	process.on("uncaughtException", (error) => {
		console.error("[openclaw] Uncaught exception:", formatUncaughtError(error));
		process.exit(1);
	});
	program.parseAsync(process.argv).catch((err) => {
		console.error("[openclaw] CLI failed:", formatUncaughtError(err));
		process.exit(1);
	});
}

//#endregion
export { PortInUseError, applyTemplate, assertWebChannel, createDefaultDeps, deriveSessionKey, describePortOwner, ensureBinary, ensurePortAvailable, getReplyFromConfig, handlePortError, loadConfig, loadSessionStore, monitorWebChannel, normalizeE164, promptYesNo, resolveSessionKey, resolveStorePath, runCommandWithTimeout, runExec, saveSessionStore, toWhatsappJid, waitForever };